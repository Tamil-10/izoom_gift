function gaProductDetailExe(){if(dataLayer&&dataLayer.constructor===Array){var e=$(".product-container").data("gaprod"),t=Object.assign({},e),i=t.pagetype||$("body").data("pagetype");delete t.pagetype;var o={pagetype:i,event:"productdetail",ecommerce:{currencyCode:"INR",detail:{actionField:{list:"optional list property"},products:[t]}}};dataLayer.push(o)}}function gaAddtoCart(e){if(dataLayer&&dataLayer.constructor===Array){var t=$(".product-container").data("gaprod"),i=Object.assign({},t);i.quantity=e?e:"";var o=i.pagetype||$("body").data("pagetype");delete i.pagetype;var n={pagetype:o,event:"addToCart",ecommerce:{currencyCode:"INR",add:{products:[i]}}};dataLayer.push(n)}}function loadSimilarProducts(){var e=document.referrer?document.referrer.split("?")[0]:"";try{var t=sessionStorage.getItem("festurl"),i=sessionStorage.getItem("festurl")?sessionStorage.getItem("festurl").split("//")[1].slice(window.location.host.length):""}catch(o){var t="",i=""}i=i?i.slice(i.indexOf("/")+1):"";var n=$("input.prod-id").val(),s=e===t?"?pid="+n+"&url="+i:"?pid="+n;$.ajax({url:"/api/similar_products"+s,method:"GET",contentType:"application/json; charset=UTF-8",async:!0,cache:!0,beforeSend:function(e){},success:function(e,t,i){""!==e?$(".sproducts_container #edp-default").html(e):($(".sproducts_container").remove(),$(".back-to-top").show())},error:function(){},complete:function(e,t){$(".sproducts_container #edp-loader").hide(),$(".product-image").lazyload({effect:"fadeIn"}),$("#edp-default:last").slick({infinite:!0,slidesToShow:4,slidesToScroll:4,accessibility:!1,dots:!0,arrows:!0}).resize()}})}function initPDP(){function e(e){var t=e.data("imageid");$(".thumbnail-img.pdp-page img").removeClass("check"),e.addClass("check"),$(".big-image").addClass("hide"),$("#big-image-"+t).removeClass("hide").lazyload(),$("#big-image-"+t).load(function(){setTimeout(function(){$("#big-image-"+t).removeClass("blur")},500)}),$("#big-image-"+t).elevateZoom({zoomWindowPosition:"zoom-hover-container",zoomWindowHeight:a,zoomWindowWidth:r,borderSize:12,borderColour:"#fff",easing:!0,cursor:"crosshair"}),$(".zoomWindowContainer").remove(),$(".zoomContainer").remove(),$("#big-image-"+t).attr("src")==$("#big-image-"+t).data("original")&&setTimeout(function(){$("#big-image-"+t).removeClass("blur")},200)}function t(){0===$(".pac-container").find("*").length&&($("#location-input").addClass("hide"),$("#pincode").removeClass("hide"),$("#pincode-submit-button").removeClass("hide"),setTimeout(function(){$(".dom-cross-btn").addClass("hidden"),$("#pincode").addClass("error error-animation"),$("#pincode-error-text").removeClass("hidden").html("Unable to find location. Please enter area pincode"),setTimeout(function(){$("#pincode").removeClass("error-animation")},300)},100))}function i(){var e=parseInt($(".prod-id").val());console.log(e),$.ajax({url:"/api/product/addons",method:"POST",data:JSON.stringify({pid:e}),contentType:"application/json; charset=UTF-8",beforeSend:function(){NProgress.start()},success:function(e){$("#add-on-wrapper").append(e),$("img.lazy").lazyload({threshold:"200",effect:"fadeIn"}),NProgress.done()},error:function(){NProgress.done()}})}function o(){$("#datepicker-fixed-date").val(""),$("#datepicker-midnight").val(""),$("#datepicker-fixed-time").val("")}var n=$(".product-details-container").height()-20;$(".attr-column").css("max-height",n+"px"),resetPickerHelp();try{sessionStorage.setItem("visted_pid",$(".prod-id").val())}catch(s){}$(".thumbnail-list").slick({infinite:!1,slidesToShow:4,slidesToScroll:4,accessibility:!1,dots:!1,arrows:!0,gateway:!1}).show().resize(),$(".thumbnail-list").on("click","button.slick-arrow",function(){var t=$(".thumbnail-list .slick-slide.slick-active:first img");e(t)}),personalize={pid:$(".prod-id").val(),steps:[]},cartAdded=!1,isInternational=!1,prevDevSel="standard-delivery",backVisible=!1;var a=$(".product-details-container").outerHeight(),r=$(".product-details-container").outerWidth();$("#big-image-999").outerHeight(),$("#big-image-999").outerWidth();$(".personalization-area").length>0&&(personalizable=!0,personalizedDone=!1),$("#international-del").is(":visible")?(isInternational=!0,updateIntlBuy()):(isInternational=!1,updateBuy()),$(document).on("click",".size-select .size",function(e){$(".size-select .size").removeClass("check"),$(".size-select").removeClass("size-error-border"),$(this).addClass("check");var t=$(this).data("val");$(".attr-size").text("Size : "+t),$(".attr-size").data("size","Size : "+t)}),$(document).on("click",".pincode-div",function(){$("#pinCheck").click(),$("#pincode").removeAttr("disabled"),$("#location-input").prop("disabled",!1),$("#location-input").focus(),$(".cross-btn").addClass("hidden"),$(".pincode-div").addClass("hidden")}),$(document).on("click",".country-div",function(){$("#countryCheck").click(),$("#country").removeAttr("disabled"),$(".country-div").addClass("hidden")});try{sessionStorage.getItem("maillist")&&($(".maillist").html(sessionStorage.getItem("maillist")),sessionStorage.removeItem("maillist"))}catch(s){}prevDevSel=$(".desc-chk-box:checked").attr("id"),$(".upsell-name").length>0,$(".desc-chk-box").each(function(){$(this).is(":checked")?$(this).parent().find(".d-date-picker").removeAttr("disabled"):$(this).removeAttr("disabled")}),$("#prod-qty").change(function(){1==isInternational?updateIntlBuy():updateBuy()}),$("#domestic-del").hasClass("hidden")?countryCheck():(getAddressFromPincode($("#pincode").val(),function(e){$("#location-input").val(e)}),pinCheck()),isLoggedIn&&""!==getCookie("mailShareLogin")&&($("#mail-share").trigger("click"),setCookie("mailShareLogin",""),$("html,body").animate({scrollTop:0},"fast"),$(".success-msg").addClass("hide"),$("#c-mask").addClass("is-active"),$(".pdp-mail-container").addClass("open"),$("body").addClass("no-scroll"),$(".mail-id").focus()),$("#big-image-999").load(function(){setTimeout(function(){$("#big-image-999").removeClass("blur")},500)}),$(document).on("click",".thumbnail-img.pdp-page img",function(){var e=$(this);$(".thumbnail-img.pdp-page img").removeClass("check"),e.addClass("check");var t=e.data("imageid");$(".big-image.pdp-page").addClass("hide"),$("#big-image-"+t).removeClass("hide").lazyload(),$("#big-image-"+t).load(function(){setTimeout(function(){$("#big-image-"+t).removeClass("blur")},500)})}),$(document).on("mouseover, click",".thumbnail-img.pdp-page img",function(){var t=$(this);console.log("asdf"),e(t)}),$(document).on("mouseover",".attr-select",function(){"Multi-color"!==$(this).find(".color-tooltip .ltp").text()&&($(".color-tooltip").addClass("hidden"),$(this).find(".color-tooltip").removeClass("hidden"),$(this).find("color-tooltip")&&console.log("found"))}),$(document).on("mouseout",".attr-select",function(){$(".color-tooltip").addClass("hidden")}),$(".product-complete-desc .nav-tab a").on("click",function(){$(".product-complete-desc .tab-content").addClass("hide"),$(".product-complete-desc .nav-tab").removeClass("active"),$(this).parent().addClass("active"),$($(this).data("target")).removeClass("hide"),$($(this).data("target")).find(".lazy-icon-contact").each(function(){$(this).attr("src",$(this).data("original")).removeClass(".lazy-icon-contact")});var e=$(this).offset();$(window).width()>1900?$("html, body").animate({scrollTop:e.top-90}):$("html, body").animate({scrollTop:e.top-60})}),$("#pincode").val()&&$("#pincode").val().trim()||$("#countries").val()&&$("#countries").val().trim()||intstandardDatePicker(),$("#timepicker").on("change",function(){var e=$(this).val(),t=new Date($(".fixed-time").val());$(this).removeClass("error"),$(".delivery-info-time").text(e+" | "),fixedDateHelperTxt(t,e,monthArray)}),$("#site-wrapper").on("mouseover",".hover-tooltip a",function(){initTooltip($(this),5)}),$("#site-wrapper").on("mouseover",function(e){return $(e.target).parents(".hover-tooltip").length>0||$(e.target).is(".hover-tooltip")||$(e.target).is(".info-window")||$(e.target).parents(".info-window").length>0?!1:void setTimeout(function(){$(".info-window").hide()},100)}),$(function(){$(".dom-cross-btn").on("click",function(){var e=1,t=$(".prod-id").val();$.ajax({url:"/api/vendor?pin=0&prodId="+t,method:"GET",dataType:"json",contentType:"application/json; charset=UTF-8",async:!0,cache:!0,beforeSend:function(e){},success:function(t,i,o){console.log(JSON.stringify(t)),$("#std-datepicker").addClass("disabled"),$("#pincode").val(""),$("#location-input").val(""),$("#pincode-display").hide(),$("#pincode").data("pincode",""),$("#pincode").prop("disabled",!1),$("#location-input").prop("disabled",!1),$("#pinCheck").text("CHECK"),$("#pincode").removeClass("error"),"72"==vid?($(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion")):$(".del-req-option").addClass("show-error"),$(".delivery-info-text").text(""),$(".delivery-info-date").text(""),$(".delivery-info-time").text(""),showDeliveryOptions(t,e),$(".desc-chk-box").removeClass("selected-check-box"),$(".desc-chk-box").attr("checked",!1),$(".desc-chk-box").attr("disabled",!1),$(".dom-cross-btn").addClass("hidden"),$(".pincode-div").addClass("hidden"),$(".d-date-picker").val(""),$(".dom-del-help").addClass("hidden"),resetPickerHelp()},error:function(){}}).always(function(e){$(".del-options-container").removeClass("invisible")})}),$(".intl-cross-btn").on("click",function(){$("#country").val("").data("ccode"," ").data("cid","").data("country","").removeAttr("disabled").removeClass("error"),$(".del-req-error").removeClass("show-error"),$(".del-type-container").removeClass("del-error-border"),$("#countryCheck").text("CHECK"),$(".country-div").addClass("hidden"),$(".intl-d-date-picker").val(""),$(".intl-delivery-container").removeClass("hidden"),$("#no-intl-delivery").addClass("hidden"),$(".intl-del-help").addClass("hidden"),$(".intl-cross-btn").addClass("hidden"),$(".intl.text-red.number").hide(),resetPickerHelp();var e=$(".prod-id").val(),t=$("#country").data("cid"),i=$("#country").data("ccode");$.ajax({url:"/api/vendor-international?country_name="+i+"&cid="+t+"&prodId="+e,method:"GET",dataType:"json",contentType:"application/json; charset=UTF-8",async:!0,cache:!0,beforeSend:function(e){},success:function(e,t,i){console.log(JSON.stringify(e)),$(".delivery-info-text").text(""),$(".delivery-info-date").text(""),$(".delivery-info-time").text(""),hideAddonText(),$(".intl-d-date-picker").attr("disabled",!0),$("#intl-std-datepicker").addClass("disabled"),"72"==vid?($(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion")):$(".del-req-option").addClass("show-error"),$("#intl-standard-delivery").val(getCartPagePrice(e.shippingType[0],"price",currency,"val")),updateIntlBuy()},error:function(){}})})}),$("#location-input").on("focusout",function(){$("#location-input").prop("disabled",!0),$("#pincode").prop("disabled",!0),$(".pincode-div").removeClass("hidden"),$(".dom-cross-btn").removeClass("hidden"),0!==$(this).val().length&&t()}),$("#location-input").on("keyup",function(){5===$(this).val().length&&setTimeout(t,500)}),$("#p-check-form").on("submit",function(e){e.preventDefault(),$("#pincode").is(":enabled")?($("#pincode-error-text").addClass("hidden"),$("#pincode-error-text").text("Enter a valid pincode"),$.fn.fmValidate.init("#p-check-form")?pinCheck():($("#pincode").addClass("error-animation"),$("#pincode-error-text").removeClass("hidden"),setTimeout(function(){$("#pincode").removeClass("error-animation")},300))):($("#pincode").prop("disabled",!1),$("#location-input").prop("disabled",!1),$("#location-input").select().focus(),$("#pinCheck").text("CHECK"),$("#pincode").attr("data-code",""))}),$("#c-check-form").on("submit",function(e){e.preventDefault(),chkCountryHandler()}),$("#attr-addon").length&&i(),$(document).on("click",".ppl-check",function(){var e=$(this).attr("data-pplvalue"),t=($(this).children().data("ppl-amt"),$(this).find(".ppl-name").text());$(".ppl-check").children().removeClass("selected-ppl"),$(".ppl-check").removeClass("selected-ppl"),$(".ppl-sel-layer").removeClass("selected"),$(this).children().addClass("selected-ppl"),$(this).addClass("selected-ppl"),$("#ppl-sel-layer-"+e).addClass("selected"),$(".attr-ppl").text("Type of Base : "+t),$(".attr-ppl").data("ppl","Type of Base : "+t);var i=$(".ppl-sel-layer.selected").data("peri-amt");0==i?$("#ppl-attr-price").text("FREE"):$("#ppl-attr-price").text(currencyConfig[currency]+" "+i),$(".pers-req-error").removeClass("show-error"),1==isInternational?updateIntlBuy():updateBuy()}),$(".color-selector").on("click",function(){if(!$(this).hasClass("check")){var e=$(this).data("id"),t=[];$(".color-selector").each(function(){t.push($(this).data("id"))}),$.ajax({url:"/api/productvariant",method:"POST",data:JSON.stringify({pid:e,pids:t,variant:"color"}),contentType:"application/json; charset=UTF-8",beforeSend:function(){NProgress.start()}}).done(function(e){$("#pdpHTML").html(e),$(".thumbnail-img.pdp-page > img").lazyload(),$("img.big-image").lazyload(),initPDP(),personalizable&&getPersonalizedData()}).always(function(){NProgress.done()})}}),$(".upsell").on("click",function(){if(!$(this).hasClass("selected")){var e=$(this).data("id");$(".upsell").removeClass("selected"),$(this).addClass("selected");var t=$(".upsell-container").html();$.ajax({url:"/api/productvariant",method:"POST",data:JSON.stringify({pid:e,upsellHTML:t,variant:"upsell"}),contentType:"application/json; charset=UTF-8",beforeSend:function(){NProgress.start()}}).done(function(e){$("#pdpHTML").html(e),$(".thumbnail-img.pdp-page > img").lazyload(),$("img.big-image").lazyload(),initPDP(),personalizable&&getPersonalizedData(),1==isInternational?updateIntlBuy():updateBuy()}).always(function(){NProgress.done()})}}),$(".base-type").on("click",function(){if(!$(this).hasClass("selected")){var e=$(this).data("id");$(".base-type").removeClass("selected"),$(this).addClass("selected");var t=$(".cake-base-container")[0].outerHTML,i={pid:e,baseHTML:t,variant:"base"};$.ajax({url:"/api/productvariant",method:"POST",data:JSON.stringify(i),contentType:"application/json; charset=UTF-8",beforeSend:function(){NProgress.start()}}).done(function(e){$("#pdpHTML").html(e),$("img.lazy").lazyload({threshold:"200",effect:"fadeIn"}),initPDP(),personalizable&&getPersonalizedData(),1==isInternational?updateIntlBuy():updateBuy()}).always(function(){NProgress.done()})}}),$(".dtype-tab").on("click",function(){$(".dtype-tab").removeClass("active"),$(this).addClass("active"),$(".del-opt-type").addClass("hidden"),$($(this).data("target")).removeClass("hidden"),"#international-del"==$(this).data("target")?(isInternational=!0,updateIntlBuy("tab")):(isInternational=!1,updateBuy("tab"))}),$(document).ready(function(){gaProductDetailExe(),loadSimilarProducts(),$(document).on("click","#std-dp-overlay",function(){""==$("#pincode").val()?($("#pincode").addClass("error error-animation"),$("#location-input").addClass("error error-animation"),setTimeout(function(){$("#pincode").removeClass("error-animation"),$("#location-input").removeClass("error-animation")},300)):$("#std-datepicker").removeClass("disabled")}),$(document).on("click","#intl-std-dp-overlay",function(){""==$("#country").val()?($("#country").addClass("error error-animation"),setTimeout(function(){$("#country").removeClass("error-animation")},300)):($("#intl-std-datepicker").removeClass("disabled"),$("#intl-std-datepicker").attr("disabled",!1))}),""!==$("#pincode").val()&&$("#std-datepicker").removeClass("disabled"),$(".desc-chk-box").on("click",function(e){if(""==$("#pincode").data("pincode")&&"standard-delivery"!==$(this).attr("id"))return $(".attr-column").animate({scrollTop:0},500),$("#pincode").focus(),$("#pincode").addClass("error error-animation"),setTimeout(function(){$("#pincode").removeClass("error-animation")},300),$("html,body").animate({scrollTop:0},"fast"),!1;o();var t=0;$(".desc-chk-box").hasClass("selected-check-box")&&(t=$(".selected-check-box").val()),$(".delivery-info-date").text(""),$(".delivery-info-time").text(""),$("#pincode").removeClass("error"),$(".del-req-error").removeClass("show-error"),$(".del-req-option").removeClass("show-error"),$(".del-type-container").removeClass("del-error-border"),$(".desc-chk-box").removeClass("selected-check-box"),$(this).addClass("selected-check-box"),$(".desc-chk-box").not(this).prop("checked",!1),$(".d-date-picker").removeClass("error"),$(".time-picker").removeClass("error"),$(".date-error-text").addClass("hidden"),$(".desc-chk-box").not(this).prop("checked",!1),$(".desc-chk-box").removeAttr("disabled"),$(this).attr("disabled",!0),check_box_val();var i=$(this).attr("data-type");if(""!=$("#pincode").data("pincode"))switch(i){case"standard":$(".d-date-picker").attr("disabled",!0),$("#std-datepicker").removeAttr("disabled"),$("#timepicker").attr("disabled",!0);break;case"fixed-time":$(".d-date-picker").attr("disabled",!0),$("#datepicker-fixed-time").removeAttr("disabled"),$("#std-datepicker").attr("disabled",!0),$("#timepicker").removeAttr("disabled");break;case"midnight-time":$(".d-date-picker").attr("disabled",!0),$("#datepicker-midnight").removeAttr("disabled"),$("#timepicker").attr("disabled",!0);break;case"same-day":$(".d-date-picker").attr("disabled",!0),$("#timepicker").attr("disabled",!0),hoursPassed<sameDayLimit?$(".delivery-info-date").text("Today | "):$(".delivery-info-date").text("Tomorrow | ");break;case"fixdate":$(".d-date-picker").attr("disabled",!0),$("#datepicker-fixed-date").removeAttr("disabled"),$("#timepicker").attr("disabled",!0)}else switch(i){case"standard":$(".d-date-picker").attr("disabled",!0),$("#std-datepicker").removeAttr("disabled");break;case"same-day":$(".d-date-picker").attr("disabled",!0),$("#timepicker").attr("disabled",!0)}return updateBuy(),!0}),$(".delivery-container").hover(function(){$(this).children().children().hasClass("selected-check-box")||($(this).children().children().find(".text-red.del-zero").hasClass("hidden")?($(this).children().children().find(".text-red.del-zero").hide(),$(this).children().children().find(".text-red.del-not-zero").show()):($(this).children().children().find(".text-red.number").show(),$(this).children().children().find(".text-red.del-not-zero").hide(),$(this).children().children().find(".text-red.del-zero").show()))},function(){$(this).children().children().hasClass("selected-check-box")||($(this).children().children().find(".text-red.del-zero").hasClass("hidden")?$(this).children().children().find(".text-red.del-not-zero").hide():($(this).children().children().find(".text-red.number").hide(),$(this).children().children().find(".text-red.del-zero").hide()))}),check_box_val(),check_hover()}),$("#open-add-ons").on("click",function(){$(".attr-container-title-wrapper").removeClass("active-acc"),$(".attr-container-content").removeClass("open-accordion"),$("#attr-addon").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-addon").find(".attr-container-content").addClass("open-accordion"),switchFromAddOnToAddCart()}),$("#add-cart").on("click",function(){return!personalizedDone&&personalizable?($(".pers-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-customize").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-customize").find(".attr-container-content").addClass("open-accordion"),$(".personalize").addClass("error error-animation"),void setTimeout(function(){$(".personalize").removeClass("error-animation")},300)):void(cartAdded?window.location="/cart":checkoutCart(function(){animateOnCartAdd(),cartAdded=!0}))}),$("#buy-now").on("click",function(){return!personalizedDone&&personalizable?($(".pers-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-customize").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-customize").find(".attr-container-content").addClass("open-accordion"),$(".personalize").addClass("error error-animation"),void setTimeout(function(){$(".personalize").removeClass("error-animation")},300)):void checkoutCart(function(){console.log("redirecting"),window.location="/cart"})}),$('input[name="delivery-loc"]').on("click",function(){"International"==$(this).val()?(updateIntlBuy(),isInternational=!0,$(".delivery-options-container").addClass("hidden"),$(".intl-del-options-container").removeClass("hidden"),$(".ind-del").removeClass("font-red"),$(".int-del").addClass("font-red"),$("#pinCheck").attr("disabled",!0),$("#pincode").attr("readonly",!0),$("#p-check-form").hide(),$("#c-check-form").show(),$("#intl-std-datepicker").removeAttr("disabled"),$("#intl-std-datepicker").removeClass("disabled")):(updateBuy(),isInternational=!1,$(".intl-del-options-container").addClass("hidden"),$(".delivery-options-container").removeClass("hidden"),$(".int-del").removeClass("font-red"),$(".ind-del").addClass("font-red"),$("#c-check-form").hide(),$("#p-check-form").show(),$("#pinCheck").removeAttr("disabled"),$("#pincode").removeAttr("readonly"))}),$(".personalize").on("click",function(){$(".design-list li.selected").data("designid");$(".personalization-area").addClass("open"),$("body").addClass("no-scroll"),$(".personalization-area img.lazy").lazyload().trigger("appear")}),$(".personalization-area").on("click",".design",function(e){var t=($(".design-img:first").parent().data("id"),$(this).data("id"));$(".design").removeClass("selected"),$(this).addClass("selected"),$(".design-img").addClass("hide"),$('.design-img[data-id="'+t+'"]').removeClass("hide"),$(".image-container .designCont .designStepTitle").text("Design"),$(".image-container .designCont .stepcount").text(parseInt($(this).data("index"))+1)}),$(".personalization-area").on("click",".nav-tab a",function(){var e=$(".design-img:first").parent().data("id"),t=$(".design-list .design.selected").data("id");"#design"===$(this).data("target")?($(".image-container .stepCont").addClass("hide"),$(".image-container .designCont").removeClass("hide"),$(".theme-container[data-id="+e+"]").find(".upload-img").addClass("hide"),$(".theme-container[data-id="+e+"]").find(".design-img:first").removeClass("hide")):($(".image-container .designCont").addClass("hide"),$(".image-container .stepCont").removeClass("hide"),$(".theme-container[data-id="+e+"]").find(".design-img").addClass("hide"),$(".theme-container[data-id="+e+"]").find(".upload-img[data-id="+t+"]:first").removeClass("hide"),$(".upload-section .upload-area").addClass("hide"),$(".upload-section .upload-area#"+t).removeClass("hide")),$(".personalization-area .nav-tab").removeClass("active"),"#design"===$(this).data("target")?$(".personalization-area li.nav-tab:first").addClass("active"):$(".personalization-area li.nav-tab:nth-child(2)").addClass("active"),$(".personalization-area .tab-content").addClass("hidden"),$($(this).data("target")).removeClass("hidden"),"#upload"===$(this).data("target")?(0==$(".user-input-container:visible").next(".user-input-container").length?$("#personalize-done").text("DONE"):$("#personalize-done").text("PROCEED"),backVisible?$("#step-back").removeClass("hide"):$("#step-back").addClass("hide"),backVisible=!1):($("#step-back").hasClass("hide")||(backVisible=!0,$("#step-back").addClass("hide")),$("#personalize-done").text("PROCEED"))}),$(".personalization-area").on("click",".sel-img",function(){$(this).parent().parent().find(".image-file").trigger("click")}),$(".personalization-area").on("change",".image-file",function(){var e=($(this).val().replace("C:\\fakepath\\",""),$(this).val()),t=$(this).prop("files")[0].size,i=t/1048576;if(""==e);else{var o=e.substring(e.lastIndexOf(".")+1).toLowerCase();"gif"==o||"png"==o||"bmp"==o||"jpeg"==o||"jpg"==o?5>i?$(this).parent().trigger("submit"):($(this).closest("div.row").find(".sel-img.pers-input").addClass("error-border"),$(this).closest("div.row").find(".sel-img.pers-input").attr("placeholder","image size should be less than 5 MB")):($(this).closest("div.row").find(".sel-img.pers-input").addClass("error-border"),$(this).closest("div.row").find(".sel-img.pers-input").attr("placeholder","Enter an image file"))}}),$(".personalization-area").on("submit",".uploadForm",function(){var e=$(this);return $(".personalized-overlay").show(),NProgress.start(),$(this).ajaxSubmit({success:function(t){e.parent().parent().find(".sel-img.pers-input").val(t.filename),NProgress.done(),$(".personalized-overlay").hide()}}),!1}),$(".personalization-area").on("click","#personalize-done",function(){if($("#upload").hasClass("hidden"))return void $('.personalization-area .nav-tab a[data-target="#upload"]').trigger("click");if(!checkStepStatus())return!1;if("PROCEED"===$(this).text().trim()){var e=$(".design-list .design.selected").data("id"),t=$(".design-list li.selected").data("designid"),i=parseInt($('.step-info[data-id="'+$(".user-input-container:visible").data("id")+'"]').text().trim());$(".theme-container[data-id="+t+"]").find(".upload-img").addClass("hide"),$(".theme-container[data-id="+t+"]").find(".upload-img[data-id="+e+"][data-name=step"+i+"]").removeClass("hide"),$(".image-container .stepcount").text(i+1)}var o=$(".user-input-container:visible").next(".user-input-container");if(personalizedDone=0==o.length&&0==$(".step-info.error").length,createLinearGrad(),0==o.length)return void setTimeout(function(){$(".personalization-area").removeClass("open"),$("body").removeClass("no-scroll"),personalizedDone?($(".personalize").text("EDIT IMAGE/TEXT"),base&&$(".attr-base").text()?$(".attr-pers").text(" | Personalized"):$(".attr-pers").text("personalized"),$(".pers-req-error").removeClass("show-error"),$(".personalize").removeClass("error")):$(".personalize").text("PERSONALIZE NOW")},500);if(1==o.length){var n=$(".user-input-container").length-1,s=$(".user-input-container:nth-child("+n+")").data("id"),a=$(".user-input-container:visible").data("id");s===a&&$("#personalize-done").text("DONE")}$(".user-input-container:visible").addClass("hidden"),o.removeClass("hidden"),$("#step-back").removeClass("hide")}),$(".personalization-area").on("click","#step-back",function(){$('.step-info[data-id="'+$(".user-input-container:visible").data("id")+'"]').removeClass("selected error");var e=$(".user-input-container:visible").prev(".user-input-container");return 0==e.length?($("#step-back").addClass("hide"),!1):($(".user-input-container:visible").addClass("hidden"),$('.step-info[data-id="'+e.data("id")+'"]').removeClass("selected error"),e.removeClass("hidden"),e=$(".user-input-container:visible").prev(".user-input"),0==e.length&&$("#step-back").addClass("hide"),$("#personalize-done").text("PROCEED"),void createLinearGrad())}),$(".personalization-area").on("click","#pers-close",function(){checkStepStatus(),$(".personalization-area").removeClass("open"),$("body").removeClass("no-scroll")}),$(".personalization-area").on("click",".step-info.clickable",function(){var e=$(".design-list .design.selected").data("id"),t=$(".design-list li.selected").data("designid"),i=(parseInt($(this).text().trim())-1,$(this).data("id"));$(".image-container .stepCont .designStepTitle").text("Step"),$(".image-container .stepCont .stepcount").text($(this).text().trim()),$(".theme-container[data-id="+t+"]").find(".upload-img").addClass("hide"),$(".theme-container[data-id="+t+"]").find(".upload-img[data-id="+e+"][data-stepid="+i+"]").removeClass("hide"),checkStepStatus(),$(".user-input-container").addClass("hidden"),$('.user-input-container[data-id="'+$(this).data("id")+'"]').removeClass("hidden");var o=$(".user-input-container:visible").next(".user-input-container");0==o.length?$("#personalize-done").text("DONE"):o.length>0&&$("#personalize-done").text("PROCEED"),createLinearGrad()}),document.addEventListener("keyup",function(e){if($(".personalization-area").hasClass("open"))if(27==e.keyCode||27==e.which)checkStepStatus(),$(".personalization-area").removeClass("open"),$("body").removeClass("no-scroll");else{var t=parseInt($(e.target).attr("maxlength"));$(e.target).is(".pers-input-text")&&t-$(e.target).val().length>=0&&$(e.target).parent().find(".character-counter:visible").text(t-$(e.target).val().length)}}),$("#site-wrapper .social-share-btn").on("click",function(e){var t=$(this).attr("id");switch(t){case"mail-share":$("html,body").animate({scrollTop:0},"fast"),$(".success-msg").addClass("hide"),$("#c-mask").addClass("is-active"),$(".pdp-mail-container").addClass("open"),$("body").addClass("no-scroll"),$(".mail-id").focus();break;case"fb-share":var i=$(".intrinsic.intrinsic-square img:eq(0)").data("original"),o=$("#short-description").val();FB.ui({method:"share",url:window.location.href,picture:i,title:$(".pdp-product-name").text().trim(),description:o,href:window.location.href},function(e){});break;case"gplus-share":return window.open("https://plus.google.com/share?url="+window.location.href,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=600"),!1;case"twitter-share":break;case"pinterest-share":return PinUtils.pinAny(),!1}}),$("#site-wrapper").on("keydown",".mail-id:enabled",function(e){var t=e.keyCode||e.which;if(13==t||32==t)if(isEmail($(this).val())){var i=$(".mail-id:enabled").parent().clone();i.find("input").attr("disabled",!0),$(".mail-id:enabled").parent().before(i),$(".mail-id:enabled").val("")}else $(".mail-id").addClass("error")}),$("#site-wrapper").on("click",".delete-mail",function(e){$(this).parent().remove()}),$("#c-mask, .pdp-mail-container-close").on("click",function(){$("#c-mask").removeClass("is-active"),$(".pdp-mail-container").removeClass("open"),$("body").removeClass("no-scroll");try{sessionStorage.getItem("mergecart")&&(sessionStorage.removeItem("mergecart"),mergeCart())}catch(e){}}),$(".maillist").on("click",function(e){$(".mail-id:enabled").focus()}),$(".btn-submit-mail").on("click",function(e){var t=[];$(".mail-id:disabled").each(function(e,i){t.push($(i).val())}),$("#self-send").is(":checked")&&t.push($("#own-email").text().trim());var i=$(".prod-id").val();0!==t.length&&(NProgress.start(),$.ajax({url:"/api/products/share-mail",method:"POST",data:JSON.stringify({pid:i,email_list:t,purl:window.location.href}),contentType:"application/json; charset=UTF-8"}).done(function(e){$(".success-msg").removeClass("hide")}).always(function(){NProgress.done()}))}),$(".back-to-top").on("click",function(e){$("html,body").animate({scrollTop:0},"fast")}),$("#big-image-999").elevateZoom({zoomWindowPosition:"zoom-hover-container",zoomWindowHeight:a,zoomWindowWidth:r,borderSize:12,borderColour:"#fff",easing:!0,cursor:"crosshair"});var l={componentRestrictions:{country:["in"]}},c=document.getElementById("location-input"),d=new google.maps.places.Autocomplete(c,l);d.addListener("place_changed",function(){var e=new google.maps.Geocoder,t=d.getPlace(),i="";if($("#location-input").removeClass("error"),console.log(d.getPlace()),t){for(var o in t.address_components)-1!=t.address_components[o].types.indexOf("postal_code")&&(i=t.address_components[o].long_name);if(i)updatePincodeFromGoogle(i);else{var n=t.geometry.location.lat(),s=t.geometry.location.lng(),a={lat:parseFloat(n),lng:parseFloat(s)};e.geocode({location:a},function(e,t){var o=e[0];for(var n in o.address_components)-1!=o.address_components[n].types.indexOf("postal_code")&&(i=o.address_components[n].long_name);updatePincodeFromGoogle(i)})}}})}function getPersonalizedData(){var e=$(".prod-id").val();$.ajax({url:"/api/products/"+e+"/personalization",method:"GET",contentType:"application/json; charset=UTF-8"}).done(function(e){$(".personalization-area").html(e);var t=$("#big-image-999").attr("data-original");
$("#big-pers-image-999").attr("data-original",t)})}function validateProduct(){var e=$(".desc-chk-box:visible:checked").data("type"),t=$("#pincode").data("pincode"),i=0;if(isInternational){if($(".intl-del-type").hasClass("hidden"))return $(".dtype-tab").removeClass("active"),$('.dtype-tab[data-target="#domestic-del"]').addClass("active"),$(".del-opt-type").addClass("hidden"),$("#domestic-del").removeClass("hidden"),$("#country").val(""),$("#pincode").focus(),isInternational=!1,updateBuy(),!1;if(!$("#country").is(":disabled")||""==$("#country").val())return i++,$("#country").addClass("error error-animation"),$(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion"),setTimeout(function(){$("#country").removeClass("error-animation")},300),!1}else{if($(".dom-del-type").hasClass("hidden"))return i++,!1;if("standard"!==e&&(""==t&&""==$("#pincode").val()||""!==$("#pincode").val()&&!$("#pincode").is(":disabled")))return i++,$("#pincode").addClass("error error-animation"),$("#location-input").addClass("error error-animation"),$(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion"),setTimeout(function(){$("#pincode").removeClass("error-animation"),$("#location-input").removeClass("error-animation")},300),$("html, body").animate({scrollTop:0},"fast"),!1;switch(e){case"standard":break;case"fixed-time":""==$("#datepicker-fixed-time").val()&&(i++,$("#datepicker-fixed-time").addClass("error error-animation"),setTimeout(function(){$("#datepicker-fixed-time").removeClass("error-animation")},300),$(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion"),$("html,body").animate({scrollTop:0},"fast")),""==$("#timepicker").val()&&(i++,$("#timepicker").addClass("error error-animation"),setTimeout(function(){$("#timepicker").removeClass("error-animation")},300),$(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion"),$("html,body").animate({scrollTop:0},"fast"));break;case"midnight-time":""==$("#datepicker-midnight").val()&&(i++,$("#datepicker-midnight").addClass("error error-animation"),$("#midnight-error-text").removeClass("hidden"),setTimeout(function(){$("#datepicker-midnight").removeClass("error-animation")},300),$(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion"),$("html,body").animate({scrollTop:0},"fast"));break;case"fixdate":""==$("#datepicker-fixed-date").val()&&(i++,$("#datepicker-fixed-date").addClass("error error-animation"),$("#fixed-date-error-text").removeClass("hidden"),$(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion"),setTimeout(function(){$("#datepicker-fixed-date").removeClass("error-animation")},300),$("html,body").animate({scrollTop:0},"fast"));break;case"sameday":}}return $(".size-select").length>0&&0==$(".product-attr.size.check").length&&(i++,$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-customize").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-customize").find(".attr-container-content").addClass("open-accordion"),$(".pers-req-error ").addClass("show-error"),$(".size-select").addClass("size-error-border error-animation"),setTimeout(function(){$(".size-select").removeClass("error-animation")},500)),0==i}function showCountryDeliveryOptions(e){if(e.error)$(".err-country").text($("#country").val()),$(".intl-delivery-container").addClass("hidden"),$("#no-intl-delivery").removeClass("hidden");else{console.log("inside delivery intl change");var t=$("#country").val();$("#intl-help-text").text(t),$(".intl-del-help").removeClass("hidden"),$("#no-intl-delivery").addClass("hidden");var i="Standard delivery";"0"!=e.shippingType[0].price?i+=' <span class="intl text-red number" style="display:inline-block;"> ( + '+getCartPagePrice(e.shippingType[0],"price",currency)+"/- )</span>":i='<span class="text-red">'+e.shippingType[0].stype+" - FREE</span>",$("#intl-standard-delivery").val(getCartPagePrice(e.shippingType[0],"price",currency,"val")),$("#intl-std-datepicker").removeAttr("disabled"),$("#intl-std-datepicker").removeClass("disabled"),$(".intl-standard-amt").html(i),$(".intl-delivery-container").removeClass("hidden"),intlDayShift=e.dayShift?e.dayShift:intlDayShift,initIntlStandardPicker(),intstandardDatePicker(),updateIntlBuy()}}function showDeliveryOptions(e,t){var i={};0==e.shippingType.length&&"undefined"!=typeof e.msg?($(".dom-del-type").addClass("hidden"),$("#pin-error-text").removeClass("hidden")):($("#pin-error-text").addClass("hidden"),$(".dom-del-type").removeClass("hidden"),e.shippingType.forEach(function(e){i[e.id]=e}),e.flagFdd?$(".delivery-help-text").attr({flagFdd:e.flagFdd}):$(".delivery-help-text").attr({flagFdd:0}),dayShift=dayShiftTest||e.dayShift,$(".delivery-container").each(function(){i[$(this).data("sid")]?($(this).removeClass("hidden"),"0"!=i[$(this).data("sid")].price?($(this).find(".del-zero").addClass("hidden").hide(),$(this).find(".del-not-zero").removeClass("hidden").hide(),$(this).find(".desc-chk-box").val(getCartPagePrice(i[$(this).data("sid")],"price",currency,"val")),$(this).find(".delivery-price").text(getCartPagePrice(i[$(this).data("sid")],"price",currency)),$(".del-not-zero").hasClass("hidden")||$(".sameday-amt").find(".del-not-zero").show()):($(this).find(".del-not-zero").addClass("hidden").hide(),72==$(".product-container").data("vid")?$(this).find(".del-zero").removeClass("hidden").hide():$(this).find(".del-zero").removeClass("hidden").show(),$(this).find(".desc-chk-box").val(getCartPagePrice(i[$(this).data("sid")],"price",currency,"val")),$(".del-zero").hasClass("hidden")||$(".sameday-amt").find(".del-zero").show())):$(this).addClass("hidden")}),0==$(".other-available-types .delivery-container:not(.hidden)").length?$(".other-available-types").addClass("hidden"):$(".other-available-types").removeClass("hidden"),i[4]||($("#standard-delivery").prop("checked",!0),$("#std-datepicker").removeAttr("disabled")),1==t&&($(".desc-chk-box").prop("checked",!1),i[4]?($(".desc-chk-box").removeAttr("disabled"),$("#sameday-delivery").prop("checked",!0),$("#sameday-delivery").attr("disabled","disabled")):($("#standard-delivery").prop("checked",!0),$("#standard-delivery").attr("disabled","disabled"),$("#std-datepicker").removeAttr("disabled"))),initStandardPicker(),intstandardDatePicker()),updateBuy()}function checkoutCart(e){var t=getCartApiData(),i="/c/mergeAddToCart";if(t){NProgress.start();var o=$(this).find(".loader"),n={cartData:t,personalizeData:personalize};$.ajax({url:i,method:"POST",dataType:"json",data:JSON.stringify(n),contentType:"application/json; charset=UTF-8",processData:!1,beforeSend:function(){o.removeClass("hide")},success:function(i){gaAddtoCart(t.qty),o.removeClass("fa-pulse fa-spinner").addClass("fa-check"),i.data.error?901==i.data.error&&($("#buy-now").addClass("error-animation pointer-none"),$("#buy-now").text("OUT OF STOCK"),$(".image-container").addClass("oos-opacity"),$(".product-price").addClass("oos-opacity"),$("#attr-container").addClass("oos-opacity"),$(".postal-container").addClass("oos-opacity"),$(".del-opt-type").addClass("oos-opacity"),$("#add-cart").addClass("disabled"),$("#add-cart > span").append('<span class="strike"></span>'),$(".thumbnail-img.pdp-page").addClass("oos-opacity")):($(".cart-count").html(i.data.cart.icnt),console.log("pers"+personalizable),console.log(i.data.cart.cartid),includeAddOns(t,function(){e()}))},error:function(){o.removeClass("fa-pulse fa-spinner").addClass("fa-times")}}).done(function(e){}).fail(function(e,t,i){console.log("error:"+i)}).always(function(){NProgress.done()})}}function includeAddOns(e,t){var i="/c/addpers";e.attr={},e.ptype="addon",$(".ao-p-card.selected").each(function(o,n){e.pid=$(this).data("id"),$.ajax({url:i,method:"POST",data:JSON.stringify(e),contentType:"application/json; charset=UTF-8",processData:!1,success:function(e){e.data.error||$(".cart-count").html(e.data.cart.icnt)}}),o+1==$(".ao-p-card.selected").length&&setTimeout(function(){t()},2e3)}),0==$(".ao-p-card.selected").length&&t()}function getCartApiData(){$(".error-msg").addClass("hidden");var e={},t={};if(!validateProduct())return!1;if($(".size-select").length>0){var i=$(".product-attr.size.check");t.Size=i.data("val")}if($(".selected-ppl").length>0){var i=$(".ppl-sel-layer.selected").parent(),o=i.data("ppl-id"),n=i.data("ppl-name"),s=o+"|"+n;t.Peripheral=s}e.pid=$(".prod-id").val(),e.qty=1,e.ptype="main",e.gbox=0,e.scity="",e.pin=""==$("#pincode").data("pincode")||isInternational?0:$("#pincode").data("pincode"),isInternational?$("#country").is(":disabled")?(e.scountry=$("#country").data("cid"),e.countryname=$("#country").val().trim()):(e.scountry=0,e.countryname=""):(e.scountry=99,e.countryname="India"),e.attr=t;var a=$(".desc-chk-box:visible:checked").data("type");if(!a&&!isInternational){if(!$("#pincode").val())return $("#pincode").removeClass("error error-animation"),$(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion"),setTimeout(function(){$("#pincode").removeClass("error-animation")},300),!1;$(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion"),$(".dom-del-type").addClass("del-error-border error-animation"),setTimeout(function(){$(".dom-del-type").removeClass("error-animation")},300)}if(isInternational){if(!a){if(!$("#country").val())return $("#country").addClass("error error-animation"),$(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion"),setTimeout(function(){$("#country").removeClass("error-animation")},300),!1;72==parseInt(vid)&&($(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion"),$(".intl-del-type").addClass("del-error-border error-animation"),setTimeout(function(){$(".intl-del-type").removeClass("error-animation")},300))}""==$("#intl-std-datepicker").val()?e.sdate=0:e.sdate=getDateString($("#intl-std-datepicker").val()),e.stype=1,e.stime=""}else switch(a){case"standard":""==$("#std-datepicker").val()?e.sdate=0:e.sdate=getDateString($("#std-datepicker").val()),e.stype=1,e.stime="";break;case"fixed-time":e.stype=2,e.sdate=getDateString($("#datepicker-fixed-time").val()),e.stime=$("#timepicker").val();break;case"midnight-time":e.stype=3,e.sdate=getDateString($("#datepicker-midnight").val()),e.stime="";break;case"same-day":e.stype=4,e.sdate="Next Day Delivery"===$(".sddName").text().trim()?getCurrentDate(e.stype,"Next Day Delivery"):getCurrentDate(e.stype),e.stime="";break;case"fixdate":e.stype=4;new Date;""==$("#datepicker-fixed-date").val()?e.sdate=0:e.sdate=getDateString($("#datepicker-fixed-date").val()),e.stime=""}if(personalizedDone||!personalizable){$(".user-input-container").each(function(){$(this).find(".pers-input").each(function(){Number($(this).parents(".upload-area").attr("id"))===Number($(".design-list .design.selected").data("id"))&&personalize.steps.push({sid:$(this).data("sid"),data:$(this).val()})})}),console.log(personalize);var r=null;return document.referrer&&(r=document.referrer.split("//")[1].split("/")[1]?document.referrer&&document.referrer.split("//")[1]&&document.referrer.split("?")[0]&&document.referrer.split("//")[1].split("?")[0].slice(window.location.host.length)?document.referrer.split("//")[1].split("?")[0].slice(window.location.host.length):null:"/home"),r=r?r.slice(r.indexOf("/")+1):null,r&&(e.referrerURL=r),e}}function getDateString(e){var t=new Date(e);return t.getFullYear().toString()+((t.getMonth()+1<10?"0":"")+(t.getMonth()+1))+((t.getDate()<10?"0":"")+t.getDate().toString())}function getCurrentDate(e,t){var i="",o=16,n=function(){var e=today.getDate();10>e&&(e="0"+e),e=e.toString();var t=today.getFullYear().toString(),o=today.getMonth()+1;10>o&&(o="0"+o),o=o.toString(),i=t+o+e},s=function(){var e=new Date;e.setDate(e.getDate()+1);var t=e.getDate();10>t&&(t="0"+t),t=t.toString();var o=e.getFullYear().toString(),n=e.getMonth()+1;10>n&&(n="0"+n),n=n.toString(),i=o+n+t};return 4==e&&(o=sameDayLimit),t?s():(4==e&&(o=sameDayLimit),hoursPassed<o?n():s()),i}function animateOnCartAdd(){$(".pdp-info-window .item-name").text($(".pdp-product-name").text());var e=$(".buy-amt").text();$(".pdp-info-window .item-price").text("Price: "+currencyConfig[currency]+" "+e),$("html,body").animate({scrollTop:0},"fast"),setTimeout(function(){$(".pdp-info-window").removeClass("hidden")},300),setTimeout(function(){$("#add-cart .a-header-icon").addClass("right"),$("#add-cart span").text("VIEW CART")},1e3),$("#c-mask").on("click",function(){$(this).removeClass("is-active"),$(".pdp-info-window").addClass("hidden")}),setTimeout(function(){$(".pdp-info-window").addClass("hidden")},5e3)}function isEmail(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return!!t.test(e)}function createLinearGrad(){var e=0,t=$(".step-info").length-1,i=$(".step-info.selected:last").index()+1;i!==t||personalizedDone||i--,e=i/t*100;var o="linear-gradient(to right, #2e8cae 0%, #2e8cae "+e+"%, #eaf2f8 "+e+"%, #eaf2f8 100%)";$(".step-progress").css("background",o)}function goToLogin(){$(".user-menu").trigger("click"),setCookie("mailShareLogin","0",36e5)}function countryCheck(){var e=$(".prod-id").val(),t=$("#country").data("cid"),i=$("#country").data("ccode");return 99===t?($(".dtype-tab").removeClass("active"),$('.dtype-tab[data-target="#domestic-del"]').addClass("active"),$(".del-opt-type").addClass("hidden"),$("#domestic-del").removeClass("hidden"),$("#country").val(""),$("#pincode").focus(),isInternational=!1,void updateBuy()):void(i&&t&&$.ajax({url:"/api/vendor-international?country_name="+i+"&cid="+t+"&prodId="+e,method:"GET",dataType:"json",contentType:"application/json; charset=UTF-8",async:!0,cache:!0,beforeSend:function(e){},success:function(e,t,o){console.log(JSON.stringify(e)),holidayDates=holidayDatesTest||e.holidayDates,holidayTypes=holidayTypesTest||e.holidayTypes,$("#country").prop("disabled",!0),$("#countryCheck").text("EDIT COUNTRY"),$(".intl-cross-btn").removeClass("hidden"),$("#country").removeClass("error"),$(".del-req-option").removeClass("show-error"),$(".country-div").removeClass("hidden"),$(".delivery-info-text").text(i),$(".intl-d-date-picker").val(""),$(".intl-d-date-picker").attr("disabled",!1),$("#intl-std-datepicker").removeClass("disabled"),e.flagFdd?$(".delivery-help-text").attr({flagFdd:e.flagFdd}):$(".delivery-help-text").attr({flagFdd:0}),showCountryDeliveryOptions(e),resetPickerHelp(),383!=parseInt(vid)&&showAddonText(),$("#pincode").val(""),$("#pincode").data("pincode",""),$("#pincode").prop("disabled",!1),$("#pinCheck").text("CHECK"),$("#pincode").removeClass("error"),$(".dom-cross-btn").addClass("hidden"),$(".pincode-div").addClass("hidden"),$(".d-date-picker").val(""),$(".dom-del-help").addClass("hidden")},error:function(){}}))}function pinCheck(){var e=$(".prod-id").val(),t=$("#pincode").val();return""==t?void $(".delivery-cont-overlay").hide():void $.ajax({url:"/api/vendor?pin="+t+"&prodId="+e,method:"GET",dataType:"json",contentType:"application/json; charset=UTF-8",async:!0,cache:!0,beforeSend:function(e){},success:function(e,i,o){holidayDates=holidayDatesTest||e.holidayDates,holidayTypes=holidayTypesTest||e.holidayTypes,$("#std-datepicker").removeClass("disabled"),$(".d-date-picker").val(""),$("#location-input").prop("disabled",!0),$("#pincode").prop("disabled",!0),$("#pinCheck").text("EDIT"),$(".delivery-info-text").text(t),$(".dom-cross-btn").removeClass("hidden"),$("#pincode").removeClass("error"),$(".del-req-option").removeClass("show-error"),$("#pincode").data("pincode",t),$(".pincode-div").removeClass("hidden"),0!=e.shippingType.length&&($(".dom-del-help").removeClass("hidden"),$("#dom-help-text").text(t)),$("#pincode-display").text("Pincode : "+t).show(),hideAddonText(),showDeliveryOptions(e),resetPickerHelp(),check_hover(),$("#country").val("").data("ccode"," ").data("cid","").data("country","").removeAttr("disabled").removeClass("error"),$("#countryCheck").text("CHECK"),$(".country-div").addClass("hidden"),$(".intl-d-date-picker").val(""),$(".intl-delivery-container").removeClass("hidden"),$("#no-intl-delivery").addClass("hidden"),$(".intl-del-help").addClass("hidden"),$(".intl-cross-btn").addClass("hidden"),$(".intl.text-red.number").hide()},error:function(){}}).always(function(e){$(".delivery-cont-overlay").hide()})}function initIntlStandardPicker(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if("1"!==$(".intl-std-date").attr("data-flowers")){var t,i=new Date(stdDate.getFullYear(),stdDate.getMonth(),stdDate.getDate()),o=generateDisableDate(intlDayShift,i,"intl-std-date",1),n=[o.startSelectDate.getFullYear(),o.startSelectDate.getMonth(),o.startSelectDate.getDate()],s=[today.getFullYear(),today.getMonth(),today.getDate()+maxDeliveryDate],a=generateDisableArray(o,n,s,t);$(".intl-std-date").pickadate({onStart:function(){this.set("highlight",stdDate)},onOpen:function(){$("#del-info-content").addClass("over-auto"),$("#del-info-inner-content").addClass("pad-b-10"),$(".attr-column").animate({scrollTop:"500px"},500)},onClose:function(){$("#del-info-content").removeClass("over-auto"),$("#del-info-inner-content").removeClass("pad-b-10")},onSet:function(){$(".intl-std-date").removeClass("error"),$("#intl-standard-error-text").addClass("hidden");var t=this.get("select");if(void 0==$(".delivery-help-text").attr("flagFdd"))var i="";else var i="1"==$(".delivery-help-text").attr("flagFdd")?"":"Tentatively on ";t&&$(".delivery-info-date").text(i+t.date+"-"+e[t.month]+"-"+t.year+" | ")},today:"",clear:"",close:""});var r=$(".intl-std-date").pickadate("picker");r.set("disable",!0),r.set("disable",a),r.set("highlight",o.startSelectDate)}}function initStandardPicker(){var e=new Date(dateToday),t=(new Date(dateToday),new Date(dateToday)),i=t.getHours(),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if("1"!==$(".std-date").attr("data-flowers")){var n,s=new Date(stdDate.getFullYear(),stdDate.getMonth(),stdDate.getDate()),a=generateDisableDate(dayShift,s,"std-date",1),r=[a.startSelectDate.getFullYear(),a.startSelectDate.getMonth(),a.startSelectDate.getDate()],l=[e.getFullYear(),e.getMonth(),e.getDate()+maxDeliveryDate],c=generateDisableArray(a,r,l,n);$(".std-date").pickadate({onStart:function(){this.set("highlight",stdDate)},onOpen:function(){$("#del-info-content").addClass("over-auto"),$("#del-info-inner-content").addClass("pad-b-10"),$(".attr-column").animate({scrollTop:"500px"},500)},onClose:function(){$("#del-info-content").removeClass("over-auto"),$("#del-info-inner-content").removeClass("pad-b-10")},onSet:function(){$(".std-date").removeClass("error"),$("#standard-error-text").addClass("hidden");var e=this.get("select");if(void 0==$(".delivery-help-text").attr("flagFdd"))var t="";else var t="1"==$(".delivery-help-text").attr("flagFdd")?"":"Tentatively on ";e&&$(".delivery-info-date").text(t+e.date+"-"+o[e.month]+"-"+e.year+" | ")},today:"",clear:"",close:""});var d=$(".std-date").pickadate("picker");d.set("disable",!0),d.set("disable",c),d.set("highlight",a.startSelectDate)}else{i<sameDayLimit?stdDate.setDate(stdDate.getDate()):stdDate.getDate()==t.getDate()&&stdDate.setDate(stdDate.getDate()+1);var n,s=new Date(stdDate.getFullYear(),stdDate.getMonth(),stdDate.getDate()),a=generateDisableDate(dayShift,s,"fixed-date",4),r=[a.startSelectDate.getFullYear(),a.startSelectDate.getMonth(),a.startSelectDate.getDate()],l=[e.getFullYear(),e.getMonth(),e.getDate()+maxDeliveryDate],c=generateDisableArray(a,r,l,n),u=incrementDate(e,1);if(a.startSelectDate>u){$(".sameday-del.delivery-container").hide();var h=$(".other-available-types input[type=checkbox].desc-chk-box")[0];$(h).trigger("click")}else a.startSelectDate<u?$(".sddName").text("Same Day Delivery"):$(".sddName").text("Next Day Delivery");$(".fixed-date").pickadate({onStart:function(){this.set("highlight",stdDate)},onOpen:function(){$("#del-info-content").addClass("over-auto"),$("#del-info-inner-content").addClass("pad-b-10"),$(".attr-column").animate({scrollTop:"500px"},500)},onClose:function(){$("#del-info-content").removeClass("over-auto"),$("#del-info-inner-content").removeClass("pad-b-10")},onSet:function(){$(".fixed-date").removeClass("error"),$("#fixed-date-error-text").addClass("hidden");var e=this.get("select");if(void 0==$(".delivery-help-text").attr("flagFdd"))var t="";else var t="1"==$(".delivery-help-text").attr("flagFdd")?"":"Tentatively on ";e&&$(".delivery-info-date").text(t+e.date+"-"+o[e.month]+"-"+e.year+" | ")},today:"",clear:"",close:""}),$("#fixed-date-del-range").text(dayShift+"-"+(parseInt(dayShift)+1));var d=$(".fixed-date").pickadate("picker");d.set("disable",!0),d.set("disable",c),d.set("highlight",a.startSelectDate)}}function checkStepStatus(){var e=!1,t=!1;return $(".pers-input").removeClass("error"),$(".user-input-container:visible .pers-input").each(function(){if(""==$.trim($(this).val())){$(this).val($.trim($(this).val())),e=!0;var i=$(this);$(this).addClass("error error-animation"),setTimeout(function(){i.removeClass("error-animation")},300)}else if(/[^\x00-\x7F]+/.test($(this).val().trim())){var o="There are some unsupported special characters or emojis in the message. Please edit/re-type message in the box";t=!0;var i=$(this);$(this).addClass("error error-animation"),setTimeout(function(){i.removeClass("error-animation")},300),$(this).removeClass("error").addClass("selected error"),$(this).parents(".user-input").find(".detail_desc .nonasciiError").remove(),$(this).parents(".user-input").find(".detail_desc").append('<div class="col s12 no-padding red-text nonasciiError m-t-10 m-b-10">'+o+"</div>")}else $(this).removeClass("error").addClass("selected"),$(this).parents(".user-input").find(".detail_desc .nonasciiError").remove()}),e||t?($('.step-info[data-id="'+$(".user-input-container:visible").data("id")+'"]').removeClass("error").addClass("selected error"),!1):($('.step-info[data-id="'+$(".user-input-container:visible").data("id")+'"]').removeClass("error").addClass("selected"),!0)}function updateBuy(e){totalAmount=$(".i-buy-now").val();var t=0,i=0;if($("#pin-error-text").is(":visible"))selDelTypeAmt=0;else{var o=$(".desc-chk-box:checked:visible").attr("id");selDelTypeAmt=$("#"+o).val()}$(".ppl-sel-layer").each(function(){$(this).hasClass("selected")&&(selPeripheralAmt=$(this).data("peri-amt"))}),"undefined"!=typeof selDelTypeAmt&&"undefined"!=selDelTypeAmt||(selDelTypeAmt=0),i=0==selDelTypeAmt?"FREE":currencyConfig[currency]+" "+selDelTypeAmt,"72"==vid?$(".desc-chk-box:checked").length>0&&"standard-delivery"!=$(".desc-chk-box:checked").attr("id")&&$("#delivery-price").text(i):$("#delivery-price").text(i),$(".ao-p-card.selected").length>0&&$(".ao-p-card.selected").each(function(){var e=$(this).data("id");t+="INR"==currency?parseInt($("#ao-p-price-"+e).data("price")):parseFloat($("#ao-p-price-"+e).data("price"))}),"INR"==currency?calcBuyAmt=parseInt(totalAmount)+parseInt(selDelTypeAmt)+parseInt(selPeripheralAmt)+t:(calcBuyAmt=parseFloat(totalAmount)+parseFloat(selDelTypeAmt)+parseFloat(selPeripheralAmt)+t,calcBuyAmt=calcBuyAmt.toFixed(2)),$(".buy-amt").text(calcBuyAmt)}function updateIntlBuy(e){totalAmount=$(".i-buy-now").val();var t=0,i=0;if($("#no-intl-delivery").is(":visible"))selDelTypeAmt=0;else{var o=$(".intl-desc-chk-box:checked:visible").attr("id");selDelTypeAmt=$("#"+o).val()}$(".ppl-sel-layer").each(function(){$(this).hasClass("selected")&&(selPeripheralAmt=$(this).data("peri-amt"))}),$("#prod-qty").val()&&(selQty=$("#prod-qty").val()),"undefined"!=typeof selDelTypeAmt&&"undefined"!=selDelTypeAmt||(selDelTypeAmt=0),t=0==selDelTypeAmt?"FREE":currencyConfig[currency]+" "+selDelTypeAmt,$("#delivery-price").text(t),"tab"==e?$("#delivery-price").text(""):$("#delivery-price").text(t),$(".ao-p-card.selected").length>0&&$(".ao-p-card.selected").each(function(){var e=$(this).data("id");i+="INR"==currency?parseInt($("#ao-p-price-"+e).data("price")):parseFloat($("#ao-p-price-"+e).data("price"))}),"INR"==currency?calcBuyAmt=parseInt(selQty)*(parseInt(totalAmount)+parseInt(selDelTypeAmt)+parseInt(selPeripheralAmt))+i:(calcBuyAmt=parseFloat(selQty)*(parseFloat(totalAmount)+parseFloat(selDelTypeAmt)+parseFloat(selPeripheralAmt))+i,calcBuyAmt=calcBuyAmt.toFixed(2)),$(".buy-amt").text(calcBuyAmt)}function resetPickerHelp(){$(".delivery-help-text").each(function(){var e=$(this).attr("id"),t="",i=(new Date).getHours();if(void 0==$(this).attr("flagFdd"))var o="Delivered on selected date.";else var o=("1"==$(this).attr("flagFdd")?"Delivered":"Tentatively, delivered")+" on selected date.";switch(e){case"intl-standard-help-text":t=' <span id="intl-standard-del-range" class="tentatively-text">'+o+"</span>";break;case"standard-help-text":t=' <span id="standard-del-range" class="tentatively-text">'+o+"</span>";break;case"sameday-help-text":t=0==parseInt(dayShift)?i>=sameDayLimit?"Delivery between 10:00 A.M. - 10:00 P.M.":"Get it today! Order before 4pm IST":"Delivery between 10:00 A.M. - 10:00 P.M.";break;case"fixed-date-help-text":t="Delivery between 10:00 A.M. - 10:00 P.M.";break;case"fixed-help-text":t="Delivery during selected 2 hrs slot";break;case"midnight-help-text":t="Delivery between 11:00 P.M. - 11:59 P.M."}$("#"+e).html(t),$("#"+e).show()})}function fixedDateHelperTxt(e,t,i){today.getDate()+1===e.getDate()&&today.getMonth()===e.getMonth()?$("#fixed-help-text").html("Delivery during selected 2 hrs slot"):today.getDate()===e.getDate()&&today.getMonth()===e.getMonth()?$("#fixed-help-text").html("Get it today! Order before 4pm IST"):today.getDate()+1===e.getDate()&&today.getMonth()!==e.getMonth()||$("#fixed-help-text").html("Delivery during selected 2 hrs slot")}function check_box_val(){$(".text-red.del-zero").hide(),$(".text-red.number").hide(),$(".desc-chk-box").each(function(){if($(this).hasClass("selected-check-box")){1==$(this).parent().parent().children().children().find(".text-red.del-zero").length?$(this).parent().parent().children().children().find(".text-red.del-zero").show():$(this).parent().parent().children().children().find(".text-red.number").show();var e=$(this).parent().find(".delivery-price").text().replace("Rs. ","");0!==parseInt(e)&&($(this).parent().find(".text-red.del-zero").hide(),$(this).parent().find(".text-red.del-not-zero").show())}})}function check_hover(){$(".hover-tooltip a").each(function(){""==$(this).data("tooltip")&&$(this).hide()})}function chkCountryHandler(){$("#country").is(":enabled")?$.fn.fmValidate.init("#c-check-form")?countryCheck():($("#country").addClass("error error-animation"),$(".del-req-error").addClass("show-error"),$(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$("#attr-1").find(".attr-container-title-wrapper").addClass("active-acc"),$("#attr-1").find(".attr-container-content").addClass("open-accordion"),setTimeout(function(){$("#country").removeClass("error-animation")},300)):($("#country").prop("disabled",!1),$("#country").focus(),$("#countryCheck").text("CHECK"),$("#country").attr("data-code",""))}function selectCountryHandler(e){var t=e;if($(t).hasClass("disabled"))$('input[name="countries"]').val("");else if(99===$(t).data("cid"))return $(".dtype-tab").removeClass("active"),$('.dtype-tab[data-target="#domestic-del"]').addClass("active"),$(".del-opt-type").addClass("hidden"),$("#domestic-del").removeClass("hidden"),$("#country").val(""),$("#country").data("cid",""),$("#country").data("ccode",""),$("#pincode").focus(),isInternational=!1,void updateBuy()}function generateDisableArray(e,t,i,o){var n=[];e&&e.holidayDatesStandList&&(n=e.holidayDatesStandList);var s;s=o?[!0,{from:t,to:i}]:[{from:t,to:i}];var a=n.length>0?$.merge(s,n):s;return a}function intstandardDatePicker(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if($(".standard-del").hasClass("hidden")||initStandardPicker(),$(".no-intl-delivery").hasClass("hidden")&&initIntlStandardPicker(),startDate.setDate(startDate.getDate()+1),hoursPassed<16){var t=new Date(today.getFullYear(),today.getMonth(),today.getDate()+1),o=generateDisableDate(dayShift,t,"std-date",1),n=!0,s=[o.startSelectDate.getFullYear(),o.startSelectDate.getMonth(),o.startSelectDate.getDate()],a=[today.getFullYear(),today.getMonth(),today.getDate()+maxDeliveryDate],r=generateDisableArray(o,s,a,n);"1"===$(".std-date").attr("data-flowers")&&($("#standard-help-text").html("Get it today! Order before 4pm IST"),$(".std-date").pickadate({disable:r,onOpen:function(){$("#del-info-content").addClass("over-auto"),$("#del-info-inner-content").addClass("pad-b-10"),$(".attr-column").animate({scrollTop:"500px"},500)},onClose:function(){$("#del-info-content").removeClass("over-auto"),$("#del-info-inner-content").removeClass("pad-b-10")},onSet:function(){$(".std-date").removeClass("error"),$("#standard-error-text").addClass("hidden");var t=this.get("select");if(void 0==$(".delivery-help-text").attr("flagFdd"))var i="";else var i="1"==$(".delivery-help-text").attr("flagFdd")?"":"Tentatively on ";console.log(t),t&&(today.getDate()+1===t.date&&today.getMonth()===t.month?$(".delivery-info-date").text("Tomorrow"):today.getDate()===t.date&&today.getMonth()===t.month?$(".delivery-info-date").text("Today"):today.getDate()+1===t.date&&today.getMonth()!==t.month||$(".delivery-info-date").text(i+t.date+"-"+e[t.month]+"-"+t.year+" | "))},today:"",clear:"",close:""}));var t=new Date(today.getFullYear(),today.getMonth(),today.getDate()),o=generateDisableDate(dayShift,t,"fixed-time",2),n=!0,s=[o.startSelectDate.getFullYear(),o.startSelectDate.getMonth(),o.startSelectDate.getDate()],a=[today.getFullYear(),today.getMonth(),today.getDate()+maxDeliveryDate],r=generateDisableArray(o,s,a,n);
$(".fixed-time").pickadate({disable:r,onStart:function(){this.set("highlight",o.startSelectDate)},onOpen:function(){$("#del-info-content").addClass("over-auto"),$("#del-info-inner-content").addClass("pad-b-10"),$(".attr-column").animate({scrollTop:"500px"},500)},onClose:function(){console.log(this.get("select"));var t="",i=0,o=this.get("select");if($("#del-info-content").removeClass("over-auto"),$("#del-info-inner-content").removeClass("pad-b-10"),o&&(i=today.getFullYear()===o.year&&today.getMonth()===o.month&&today.getDate()===o.date?hoursPassed<=8?12:hoursPassed%2?parseInt(hoursPassed)+3:parseInt(hoursPassed)+4:10),o){for(t+='<option value="">Select Time Slot</option>';20>=i;i+=2)t+='<option value="'+i+":00 hrs - "+(i+2)+':00 hrs">'+i+":00 hrs - "+(i+2)+":00 hrs</option>";$("#timepicker").html(t),$("#timepicker").removeClass("hide")}else $("#timepicker").addClass("hide");var n=$("#datepicker-fixed-time").parents(".datepicker-container").find("#timepicker").val(),s=this.get("select");s&&(s=new Date(s.pick)),s&&n&&fixedDateHelperTxt(s,n,e)},onSet:function(){var t=this.get("select");if($(".fixed-time").removeClass("error"),t){if(void 0==$(".delivery-help-text").attr("flagFdd"))var i="";else var i="1"==$(".delivery-help-text").attr("flagFdd")?"":"Tentatively on ";$(".delivery-info-date").text(i+t.date+"-"+e[t.month]+"-"+t.year+" | ")}},today:"",clear:"",close:""});var t=new Date(today.getFullYear(),today.getMonth(),today.getDate()),o=generateDisableDate(dayShift,t,"midnight-date",3),n=!0,s=[o.startSelectDate.getFullYear(),o.startSelectDate.getMonth(),o.startSelectDate.getDate()],a=[today.getFullYear(),today.getMonth(),today.getDate()+maxDeliveryDate],r=generateDisableArray(o,s,a,n);$(".midnight-date").pickadate({disable:r,onStart:function(){this.set("highlight",o.startSelectDate)},onOpen:function(){$("#del-info-content").addClass("over-auto"),$("#del-info-inner-content").addClass("pad-b-10"),$(".attr-column").animate({scrollTop:"500px"},500)},onClose:function(){$("#del-info-content").removeClass("over-auto"),$("#del-info-inner-content").removeClass("pad-b-10")},onSet:function(){$(".midnight-date").removeClass("error"),$("#midnight-error-text").addClass("hidden");var t=this.get("select");if(console.log(t),t)if(today.getDate()===t.date&&today.getMonth()===t.month)$(".delivery-info-date").text("Tonight | "),$(".delivery-info-time").text("11:30 P.M. - 11:59 P.M. | ");else if(today.getDate()!==t.date||today.getMonth()===t.month){if(void 0==$(".delivery-help-text").attr("flagFdd"))var i="";else var i="1"==$(".delivery-help-text").attr("flagFdd")?"":"Tentatively on ";$(".delivery-info-date").text(i+t.date+"-"+e[t.month]+"-"+t.year+" | "),$(".delivery-info-time").text("11:30 P.M. - 11:59 P.M. | ")}},today:"",clear:"",close:""})}else{if("1"===$(".std-date").attr("data-flowers")){var t=new Date(startDate.getFullYear(),startDate.getMonth(),startDate.getDate()),o=generateDisableDate(dayShift,t,"std-date",1),n=!0,s=[o.startSelectDate.getFullYear(),o.startSelectDate.getMonth(),o.startSelectDate.getDate()],a=[today.getFullYear(),today.getMonth(),today.getDate()+maxDeliveryDate],r=generateDisableArray(o,s,a,n),l=formatDD(incrementDate(new Date,1)),c=formatDD(o.startSelectDate);l===c?$("#standard-help-text").html("Delivered tomorrow."):$("#standard-help-text").html(("1"==$("#standard-help-text").attr("flagFdd")?"Delivered":"Tentatively, delivered")+" on selected date"),$(".std-date").pickadate({disable:r,onStart:function(){this.set("highlight",o.startSelectDate)},onOpen:function(){$("#del-info-content").addClass("over-auto"),$("#del-info-inner-content").addClass("pad-b-10"),$(".attr-column").animate({scrollTop:"500px"},500)},onClose:function(){$("#del-info-content").removeClass("over-auto"),$("#del-info-inner-content").removeClass("pad-b-10")},onSet:function(){$(".std-date").removeClass("error"),$("#standard-error-text").addClass("hidden");var t=this.get("select");if(t)if(today.getDate()+1===t.date&&today.getMonth()===t.month)$(".delivery-info-date").text("Tomorrow | ");else if(today.getDate()===t.date&&today.getMonth()===t.month)$(".delivery-info-date").text("Today | ");else if(today.getDate()+1!==t.date||today.getMonth()===t.month){if(void 0==$(".delivery-help-text").attr("flagFdd"))var i="";else var i="1"==$(".delivery-help-text").attr("flagFdd")?"":"Tentatively on ";$(".delivery-info-date").text(i+t.date+"-"+e[t.month]+"-"+t.year+" | ")}},today:"",clear:"",close:""})}var t=new Date(startDate.getFullYear(),startDate.getMonth(),startDate.getDate()),o=generateDisableDate(intlDayShift,t,"intl-std-date",1),n=!0,s=[o.startSelectDate.getFullYear(),o.startSelectDate.getMonth(),o.startSelectDate.getDate()],a=[today.getFullYear(),today.getMonth(),today.getDate()+maxDeliveryDate],r=generateDisableArray(o,s,a,n);$(".intl-std-date").pickadate({disable:r,onStart:function(){this.set("highlight",o.startSelectDate)},onOpen:function(){$("#del-info-content").addClass("over-auto"),$("#del-info-inner-content").addClass("pad-b-10"),$(".attr-column").animate({scrollTop:"500px"},500)},onClose:function(){$("#del-info-content").removeClass("over-auto"),$("#del-info-inner-content").removeClass("pad-b-10")},onSet:function(){$(".intl-std-date").removeClass("error"),$("#intl-standard-error-text").addClass("hidden");var t=this.get("select");if(t)if(today.getDate()+1===t.date&&today.getMonth()===t.month)$(".delivery-info-date").text("Tomorrow | ");else if(today.getDate()===t.date&&today.getMonth()===t.month)$(".delivery-info-date").text("Today | ");else if(today.getDate()+1!==t.date||today.getMonth()===t.month){if(void 0==$(".delivery-help-text").attr("flagFdd"))var i="";else var i="1"==$(".delivery-help-text").attr("flagFdd")?"":"Tentatively on ";$(".delivery-info-date").text(i+t.date+"-"+e[t.month]+"-"+t.year+" | ")}},today:"",clear:"",close:""});var t=new Date(today.getFullYear(),today.getMonth(),today.getDate()+1),o=generateDisableDate(dayShift,t,"fixed-time",2),n=!0,s=[o.startSelectDate.getFullYear(),o.startSelectDate.getMonth(),o.startSelectDate.getDate()],a=[today.getFullYear(),today.getMonth(),today.getDate()+maxDeliveryDate],r=generateDisableArray(o,s,a,n);$(".fixed-time").pickadate({onOpen:function(){$("#del-info-content").addClass("over-auto"),$("#del-info-inner-content").addClass("pad-b-10"),$(".attr-column").animate({scrollTop:"500px"},500)},disable:r,onStart:function(){this.set("highlight",o.startSelectDate)},onClose:function(){console.log(this.get("select"));var t="",o=this.get("select");if($("#del-info-content").removeClass("over-auto"),$("#del-info-inner-content").removeClass("pad-b-10"),o){for(hoursPassed>=19?i=12:i=10,t+='<option value="" selected>Select Time</option>';i<=20;i+=2)t+='<option value="'+i+":00 hrs - "+(i+2)+':00 hrs">'+i+":00 hrs - "+(i+2)+":00 hrs</option>";$("#timepicker").html(t),$("#timepicker").removeClass("hide")}else $("#timepicker").addClass("hide");var n=$("#datepicker-fixed-time").parents(".datepicker-container").find("#timepicker").val(),s=this.get("select");s&&(s=new Date(s.pick)),s&&n&&fixedDateHelperTxt(s,n,e)},onSet:function(){var t=this.get("select");if($(".fixed-time").removeClass("error"),t){if(void 0==$(".delivery-help-text").attr("flagFdd"))var i="";else var i="1"==$(".delivery-help-text").attr("flagFdd")?"":"Tentatively on ";$(".delivery-info-date").text(i+t.date+"-"+e[t.month]+"-"+t.year+" | ")}},today:"",clear:"",close:""});var t=new Date(today.getFullYear(),today.getMonth(),today.getDate()+1),o=generateDisableDate(dayShift,t,"midnight-date",3),n=!0,s=[o.startSelectDate.getFullYear(),o.startSelectDate.getMonth(),o.startSelectDate.getDate()],a=[today.getFullYear(),today.getMonth(),today.getDate()+maxDeliveryDate],r=generateDisableArray(o,s,a,n);$(".midnight-date").pickadate({onOpen:function(){$("#del-info-content").addClass("over-auto"),$("#del-info-inner-content").addClass("pad-b-10"),$(".attr-column").animate({scrollTop:"500px"},500)},onClose:function(){$("#del-info-content").removeClass("over-auto"),$("#del-info-inner-content").removeClass("pad-b-10")},disable:r,onStart:function(){this.set("highlight",o.startSelectDate)},onSet:function(){if($(".midnight-date").removeClass("error"),$("#midnight-error-text").addClass("hidden"),void 0==$(".delivery-help-text").attr("flagFdd"))var t="";else var t="1"==$(".delivery-help-text").attr("flagFdd")?"":"Tentatively on ";var i=this.get("select");console.log(i),i&&(today.getDate()===i.date&&today.getMonth()===i.month?($(".delivery-info-date").text("Today | "),$(".delivery-info-time").text("11:30 P.M. - 11:59 P.M. | ")):today.getDate()===i.date&&today.getMonth()!==i.month||($(".delivery-info-date").text(t+i.date+"-"+e[i.month]+"-"+i.year+" | "),$(".delivery-info-time").text("11:30 P.M. - 11:59 P.M. | ")))},today:"",clear:"",close:""})}hoursPassed>=sameDayLimit?$("#sameday-help-text").html('Delivered tomorrow between <span class="number ">10.00 A.M. - 10:00 P.M.</span>'):$("#sameday-help-text").html("Get it today! Order before 4pm IST")}function incrementDate(e,t){var i=new Date(formatDD(e).split("-"));return i.setDate(i.getDate()+t),i}function formatDD(e){var t=new Date(e),i=""+(t.getMonth()+1),o=""+t.getDate(),n=t.getFullYear();return i.length<2&&(i="0"+i),o.length<2&&(o="0"+o),[n,i,o].join("-")}function generateDisableDate(e,t,i,o){function n(){return!!r[formatDD(t)]}function s(){for(var e in holidayDates){var i=holidayDates[e].split("-"),o=i[0],s=parseInt(i[1])-1,c=i[2],d=[parseInt(o),s,parseInt(c)],u={from:d,to:d,inverted:!0};a.push(u),r[holidayDates[e]]=!0}if(t)for(;n();)t=incrementDate(t,1),l+=1}e=e?parseInt(e):e,0!==e&&(t=incrementDate(t,e));var a=[],r={},l=0;return holidayDates=holidayDates?holidayDates:[],holidayTypes=holidayTypes?holidayTypes.toString():"0",0===parseInt(holidayTypes)&&s(),holidayTypes&&-1!==holidayTypes.indexOf(o)&&s(),{holidayDatesStandList:a,dayShift:l,startSelectDate:t}}function ifDateFallUnderHoliday(e,t){function i(){return!!o[formatDD(e)]}var o={},n=0;holidayDates=holidayDates?holidayDates:[];for(var s in holidayDates)o[holidayDates[s]]=!0;if(e)for(;i();)e=incrementDate(e,1),n+=1;return e}function showAddonText(){$(".addon-s-info").removeClass("hidden")}function hideAddonText(){$(".addon-s-info").addClass("hidden")}function switchFromAddOnToAddCart(){$("html,body").animate({scrollTop:0},"fast"),$("#open-add-ons").addClass("hide"),$("#add-cart").removeClass("hide")}function updatePincodeFromGoogle(e){e&&($("#pincode").val(e),$("#pincode").data("pincode",e),pinCheck())}function getAddressFromPincode(e,t){var i=new google.maps.Geocoder;i.geocode({address:e},function(e,i){console.log(e),"OK"==i&&t(e[0].formatted_address)})}var totalAmount=0,selPeripheralAmt=0,selDelTypeAmt=0,selQty=1,calcBuyAmt=0,personalize={},cartAdded=!1,isInternational=!1,prevDevSel="",personalizable=!1,personalizedDone=!1,backVisible=!1,monthArray=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if($("#international-del").length>0)var countriesHash={},countriesHashCode={},countriesArr=[],countriesArrLower=[];var maxDeliveryDate=60,holidayDates=$(".product-container").data("holidaydates"),decdd=new Date(new Date("2017/03/13").valueOf()),febdd=new Date(new Date("2017/02/13").valueOf()),febdd1=new Date(new Date("2017/02/14").valueOf()),jandd=new Date(new Date("2017/01/01").valueOf()),holidayDatesTest,dayShiftTest,holidayTypesTest;$(window).resize(function(){var e=$(".product-details-container").height()-20;$(".attr-column").css("max-height",e+"px")}),initPDP(),personalizable&&getPersonalizedData(),$(document).ready(function(){$(document).on("click",".ao-p-card",function(){var e=0,t=$(this).data("id");$(".add-req-option").removeClass("show-error"),$(this).hasClass("selected")?($(this).removeClass("selected"),$(this).find(".add-ao-icon").removeClass("selected").text("+")):($("#ao-p-card-"+t).addClass("selected"),$(this).addClass("selected"),$(this).find(".add-ao-icon").addClass("selected").text("")),$(".ao-p-card.selected").length>0&&$(".ao-p-card.selected").each(function(){var t=$(this).data("id");e+="INR"==currency?parseInt($("#ao-p-price-"+t).data("price")):parseFloat($("#ao-p-price-"+t).data("price"))}),0==e?$("#addon-price").text(""):$("#addon-price").text(currencyConfig[currency]+" "+e),$("#country").val()?updateIntlBuy():updateBuy()}),$(document).on("click",".s-top",function(){$("html,body").animate({scrollTop:0})}),$(document).on("click",".attr-container-title-wrapper",function(){if($(this).hasClass("active-acc")?($(this).siblings().removeClass("open-accordion"),$(this).removeClass("active-acc")):($(".attr-container-content").removeClass("open-accordion"),$(".attr-container-title-wrapper").removeClass("active-acc"),$(this).siblings().addClass("open-accordion"),$(this).addClass("active-acc")),"attr-customize"!=$(this).parents(".attr-container-item").attr("id")){if($(".attr-ppl").data("ppl")){$(".attr-ppl").text($(".attr-ppl").data("ppl"));var e=$(".ppl-sel-layer.selected").data("peri-amt");0==e?$("#ppl-attr-price").text("FREE"):$("#ppl-attr-price").text(currencyConfig[currency]+" "+e)}$(".attr-base").data("base")&&($(".attr-pers").text()?$(".attr-base").text($(".attr-base").data("base")+" | "):$(".attr-base").text($(".attr-base").data("base"))),$(".attr-size").data("size")&&$(".attr-size").text($(".attr-size").data("size"))}"attr-addon"==$(this).parents(".attr-container-item").attr("id")&&switchFromAddOnToAddCart()})});;
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var o,s,a,r=t.nodeName.toLowerCase();return"area"===r?(o=t.parentNode,s=o.name,t.href&&s&&"map"===o.nodeName.toLowerCase()?(a=e("img[usemap='#"+s+"']")[0],!!a&&i(a)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function n(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function o(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=s(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",a)}function a(){e.datepicker._isDisabledDatepicker(l.inline?l.dpDiv.parent()[0]:l.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return n&&"static"===t.css("position")?!1:o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),o=isNaN(n);return(o||n>=0)&&t(i,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,s){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?a["inner"+i].call(this):this.each(function(){e(this).css(s,n(this,t)+"px")})},e.fn["outer"+i]=function(t,o){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(s,n(this,t,!0,o)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var o,s=e.ui[t].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;s.length>o;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,i)}},e.extend(e.ui,{datepicker:{version:"1.11.4"}});var l;e.extend(o.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,o,s;n=t.nodeName.toLowerCase(),o="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),o),s.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,s):o&&this._inlineDatepicker(t,s)},_newInst:function(t,i){var n=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,o,s,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(o=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:o,title:o}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:o,title:o}):o)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,o,s=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(i=0,n=0,o=0;e.length>o;o++)e[o].length>i&&(i=e[o].length,n=o);return n},s.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,o,s){var a,l,c,d,u,h=this._dialogInst;return h||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),r(h.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(h,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+d,c/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var i,n=e(t),o=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty(),l===o&&(l=null))},_enableDatepicker:function(t){var i,n,o=e(t),s=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,o=e(t),s=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var o,s,a,l,c=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):c?"all"===i?e.extend({},c.settings):this._get(c,i):null:(o=i||{},"string"==typeof i&&(o={},o[i]=n),void(c&&(this._curInst===c&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),r(c.settings,o),null!==a&&void 0!==o.dateFormat&&void 0===o.minDate&&(c.settings.minDate=this._formatDate(c,a)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,s),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,o,s=e.datepicker._getInst(t.target),a=!0,r=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return o=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),o[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,o[0]),i=e.datepicker._get(s,"onSelect"),i?(n=e.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,o=e.datepicker._getInst(t.target);return e.datepicker._get(o,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(o){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,o,s,a,l,c,d;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),o=e.datepicker._get(i,"beforeShow"),s=o?o.apply(t,[t,i]):{},s!==!1&&(r(i.settings,s),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),a=!1,e(t).parents().each(function(){return a|="fixed"===e(this).css("position"),!a}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,a),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(c=e.datepicker._get(i,"showAnim"),d=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?i.dpDiv.show(c,e.datepicker._get(i,"showOptions"),d):i.dpDiv[c||"show"](c?d:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,l=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,n=this._getNumberOfMonths(t),o=n[1],s=17,r=t.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&a.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",s*o+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var o=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?o-a:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+s>c&&c>s?Math.abs(s+r):0),i},_findPos:function(t){for(var i,n=this._getInst(t),o=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[o?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,o,s,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),o=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[i]||e.effects[i])?a.dpDiv.hide(i,e.datepicker._get(a,"showOptions"),n,o):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,s=this._get(a,"onClose"),s&&s.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var o=e(t),s=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(t){var i,n=e(t),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var o=e(t),s=this._getInst(o[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(o)},_selectDay:function(t,i,n,o){var s,a=e(t);e(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(s=this._getInst(a[0]),s.selectedDay=s.currentDay=e("a",o).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,o=e(t),s=this._getInst(o[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),n=this._get(s,"onSelect"),n?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,o,s=this._get(t,"altField");s&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),o=this.formatDate(i,n,this._getFormatConfig(t)),e(s).each(function(){e(this).val(o)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var o,s,a,r,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,w=function(e){var i=t.length>o+1&&t.charAt(o+1)===e;return i&&o++,i},$=function(e){var t=w(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,o="y"===e?n:1,s=RegExp("^\\d{"+o+","+n+"}"),a=i.substring(l).match(s);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},C=function(t,n,o){var s=-1,a=e.map(w(t)?o:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var n=t[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(s=t[0],l+=n.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==t.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;t.length>o;o++)if(b)"'"!==t.charAt(o)||w("'")?k():b=!1;else switch(t.charAt(o)){case"d":v=$("d");break;case"D":C("D",u,h);break;case"o":y=$("o");break;case"m":g=$("m");break;case"M":g=C("M",p,f);break;case"y":m=$("y");break;case"@":r=new Date($("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date(($("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":w("'")?k():b=!0;break;default:k()}if(i.length>l&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=m?0:-100)),y>-1)for(g=1,v=y;s=this._getDaysInMonth(m,g-1),!(s>=v);)g++,v-=s;if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=""+t;if(l(e))for(;i>n.length;)n="0"+n;return n},d=function(e,t,i,n){return l(e)?n[t]:i[t]},u="",h=!1;if(t)for(n=0;e.length>n;n++)if(h)"'"!==e.charAt(n)||l("'")?u+=e.charAt(n):h=!1;else switch(e.charAt(n)){case"d":u+=c("d",t.getDate(),2);break;case"D":u+=d("D",t.getDay(),o,s);break;case"o":u+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",t.getMonth()+1,2);break;case"M":u+=d("M",t.getMonth(),a,r);break;case"y":u+=l("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":h=!0;break;default:u+=e.charAt(n)}return u},_possibleChars:function(e){var t,i="",n=!1,o=function(i){var n=e.length>t+1&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;e.length>t;t++)if(n)"'"!==e.charAt(t)||o("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,o=this._getDefaultDate(e),s=o,a=this._getFormatConfig(e);try{s=this.parseDate(i,n,a)||o}catch(r){n=t?"":n}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=n?s.getDate():0,e.currentMonth=n?s.getMonth():0,e.currentYear=n?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var o=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var o=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=o.getFullYear(),a=o.getMonth(),r=o.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":r+=parseInt(c[1],10);break;case"w":case"W":r+=7*parseInt(c[1],10);break;case"m":case"M":a+=parseInt(c[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(s,a));break;case"y":case"Y":s+=parseInt(c[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(s,a))}c=l.exec(i)}return new Date(s,a,r)},a=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:o(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,o=e.selectedMonth,s=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),o===e.selectedMonth&&s===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,o,s,a,r,l,c,d,u,h,p,f,m,g,v,y,b,w,$,C,k,x,S,T,_,D,z,P,I,A,O,M,E,W,L,N,H,F=new Date,j=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),R=this._get(e,"isRTL"),V=this._get(e,"showButtonPanel"),q=this._get(e,"hideIfNoPrevNext"),B=this._get(e,"navigationAsDateFormat"),Y=this._getNumberOfMonths(e),U=this._get(e,"showCurrentAtPos"),X=this._get(e,"stepMonths"),J=1!==Y[0]||1!==Y[1],Z=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),G=this._getMinMaxDate(e,"max"),K=e.drawMonth-U,ee=e.drawYear;if(0>K&&(K+=12,ee--),G)for(t=this._daylightSavingAdjust(new Date(G.getFullYear(),G.getMonth()-Y[0]*Y[1]+1,G.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(ee,K,1))>t;)K--,0>K&&(K=11,ee--);for(e.drawMonth=K,e.drawYear=ee,i=this._get(e,"prevText"),i=B?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,K-X,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,K)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"e":"w")+"'>"+i+"</span></a>",o=this._get(e,"nextText"),o=B?this.formatDate(o,this._daylightSavingAdjust(new Date(ee,K+X,1)),this._getFormatConfig(e)):o,s=this._canAdjustMonth(e,1,ee,K)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"w":"e")+"'>"+o+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"w":"e")+"'>"+o+"</span></a>",a=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?Z:j,a=B?this.formatDate(a,r,this._getFormatConfig(e)):a,
l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=V?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(R?l:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(R?"":l)+"</div>":"",d=parseInt(this._get(e,"firstDay"),10),d=isNaN(d)?0:d,u=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",C=0;Y[0]>C;C++){for(k="",this.maxRows=4,x=0;Y[1]>x;x++){if(S=this._daylightSavingAdjust(new Date(ee,K,e.selectedDay)),T=" ui-corner-all",_="",J){if(_+="<div class='ui-datepicker-group",Y[1]>1)switch(x){case 0:_+=" ui-datepicker-group-first",T=" ui-corner-"+(R?"right":"left");break;case Y[1]-1:_+=" ui-datepicker-group-last",T=" ui-corner-"+(R?"left":"right");break;default:_+=" ui-datepicker-group-middle",T=""}_+="'>"}for(_+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===C?R?s:n:"")+(/all|right/.test(T)&&0===C?R?n:s:"")+this._generateMonthYearHeader(e,K,ee,Q,G,C>0||x>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",$=0;7>$;$++)z=($+d)%7,D+="<th scope='col'"+(($+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[z]+"'>"+p[z]+"</span></th>";for(_+=D+"</tr></thead><tbody>",P=this._getDaysInMonth(ee,K),ee===e.selectedYear&&K===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,P)),I=(this._getFirstDayOfMonth(ee,K)-d+7)%7,A=Math.ceil((I+P)/7),O=J&&this.maxRows>A?this.maxRows:A,this.maxRows=O,M=this._daylightSavingAdjust(new Date(ee,K,1-I)),E=0;O>E;E++){for(_+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(M)+"</td>":"",$=0;7>$;$++)L=g?g.apply(e.input?e.input[0]:null,[M]):[!0,""],N=M.getMonth()!==K,H=N&&!y||!L[0]||Q&&Q>M||G&&M>G,W+="<td class='"+(($+d+6)%7>=5?" ui-datepicker-week-end":"")+(N?" ui-datepicker-other-month":"")+(M.getTime()===S.getTime()&&K===e.selectedMonth&&e._keyEvent||b.getTime()===M.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(N&&!v?"":" "+L[1]+(M.getTime()===Z.getTime()?" "+this._currentClass:"")+(M.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(N&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+M.getMonth()+"' data-year='"+M.getFullYear()+"'")+">"+(N&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+M.getDate()+"</span>":"<a class='ui-state-default"+(M.getTime()===j.getTime()?" ui-state-highlight":"")+(M.getTime()===Z.getTime()?" ui-state-active":"")+(N?" ui-priority-secondary":"")+"' href='#'>"+M.getDate()+"</a>")+"</td>",M.setDate(M.getDate()+1),M=this._daylightSavingAdjust(M);_+=W+"</tr>"}K++,K>11&&(K=0,ee++),_+="</tbody></table>"+(J?"</div>"+(Y[0]>0&&x===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=_}w+=k}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,i,n,o,s,a,r){var l,c,d,u,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!g)w+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=o&&o.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;12>d;d++)(!l||d>=n.getMonth())&&(!c||o.getMonth()>=d)&&(w+="<option value='"+d+"'"+(d===t?" selected='selected'":"")+">"+r[d]+"</option>");w+="</select>"}if(y||(b+=w+(!s&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=o?Math.min(m,o.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!s&&g&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),o=e.drawMonth+("M"===i?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(n,o))+("D"===i?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,o,s)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),o=i&&i>t?i:t;return n&&o>n?n:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var o=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(i,n+(0>t?t:o[0]*o[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var i,n,o=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),a=null,r=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!o||t.getTime()>=o.getTime())&&(!s||t.getTime()<=s.getTime())&&(!a||t.getFullYear()>=a)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new o,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker});;
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(i))}function i(t){var i=t.target,n=e(i);if(!n.is("[type=submit],[type=image]")){var o=n.closest("[type=submit]");if(0===o.length)return;i=o[0]}var s=this;if(s.clk=i,"image"==i.type)if(void 0!==t.offsetX)s.clk_x=t.offsetX,s.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var a=n.offset();s.clk_x=t.pageX-a.left,s.clk_y=t.pageY-a.top}else s.clk_x=t.pageX-i.offsetLeft,s.clk_y=t.pageY-i.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function n(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var o={};o.fileapi=void 0!==e("<input type='file'/>").get(0).files,o.formdata=void 0!==window.FormData;var s=!!e.fn.prop;e.fn.attr2=function(){if(!s)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function i(i){var n,o,s=e.param(i,t.traditional).split("&"),a=s.length,r=[];for(n=0;a>n;n++)s[n]=s[n].replace(/\+/g," "),o=s[n].split("="),r.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])]);return r}function a(n){for(var o=new FormData,s=0;s<n.length;s++)o.append(n[s].name,n[s].value);if(t.extraData){var a=i(t.extraData);for(s=0;s<a.length;s++)a[s]&&o.append(a[s][0],a[s][1])}t.data=null;var r=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(r.xhr=function(){var i=e.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(e){var i=0,n=e.loaded||e.position,o=e.total;e.lengthComputable&&(i=Math.ceil(n/o*100)),t.uploadProgress(e,n,o,i)},!1),i}),r.data=null;var c=r.beforeSend;return r.beforeSend=function(e,i){i.data=t.formData?t.formData:o,c&&c.call(this,e,i)},e.ajax(r)}function r(i){function o(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(i){n("cannot get iframe.contentWindow document: "+i)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(i){n("cannot get iframe.contentDocument: "+i),t=e.document}return t}function a(){function t(){try{var e=o(v).readyState;n("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(i){n("Server abort: ",i," (",i.name,")"),r(T),k&&clearTimeout(k),k=void 0}}var i=u.attr2("target"),s=u.attr2("action"),a="multipart/form-data",c=u.attr("enctype")||u.attr("encoding")||a;C.setAttribute("target",f),(!l||/post/i.test(l))&&C.setAttribute("method","POST"),s!=h.url&&C.setAttribute("action",h.url),h.skipEncodingOverride||l&&!/post/i.test(l)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(k=setTimeout(function(){$=!0,r(S)},h.timeout));var d=[];try{if(h.extraData)for(var p in h.extraData)h.extraData.hasOwnProperty(p)&&d.push(e.isPlainObject(h.extraData[p])&&h.extraData[p].hasOwnProperty("name")&&h.extraData[p].hasOwnProperty("value")?e('<input type="hidden" name="'+h.extraData[p].name+'">').val(h.extraData[p].value).appendTo(C)[0]:e('<input type="hidden" name="'+p+'">').val(h.extraData[p]).appendTo(C)[0]);h.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",r):v.addEventListener("load",r,!1),setTimeout(t,15);try{C.submit()}catch(m){var y=document.createElement("form").submit;y.apply(C)}}finally{C.setAttribute("action",s),C.setAttribute("enctype",c),i?C.setAttribute("target",i):u.removeAttr("target"),e(d).remove()}}function r(t){if(!y.aborted&&!I){if(P=o(v),P||(n("cannot access response document"),t=T),t===S&&y)return y.abort("timeout"),void x.reject(y,"timeout");if(t==T&&y)return y.abort("server abort"),void x.reject(y,"error","server abort");if(P&&P.location.href!=h.iframeSrc||$){v.detachEvent?v.detachEvent("onload",r):v.removeEventListener("load",r,!1);var i,s="success";try{if($)throw"timeout";var a="xml"==h.dataType||P.XMLDocument||e.isXMLDoc(P);if(n("isXml="+a),!a&&window.opera&&(null===P.body||!P.body.innerHTML)&&--A)return n("requeing onLoad callback, DOM not available"),void setTimeout(r,250);var l=P.body?P.body:P.documentElement;y.responseText=l?l.innerHTML:null,y.responseXML=P.XMLDocument?P.XMLDocument:P,a&&(h.dataType="xml"),y.getResponseHeader=function(e){var t={"content-type":h.dataType};return t[e.toLowerCase()]},l&&(y.status=Number(l.getAttribute("status"))||y.status,y.statusText=l.getAttribute("statusText")||y.statusText);var c=(h.dataType||"").toLowerCase(),d=/(json|script|text)/.test(c);if(d||h.textarea){var u=P.getElementsByTagName("textarea")[0];if(u)y.responseText=u.value,y.status=Number(u.getAttribute("status"))||y.status,y.statusText=u.getAttribute("statusText")||y.statusText;else if(d){var f=P.getElementsByTagName("pre")[0],m=P.getElementsByTagName("body")[0];f?y.responseText=f.textContent?f.textContent:f.innerText:m&&(y.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!y.responseXML&&y.responseText&&(y.responseXML=O(y.responseText));try{z=E(y,c,h)}catch(b){s="parsererror",y.error=i=b||s}}catch(b){n("error caught: ",b),s="error",y.error=i=b||s}y.aborted&&(n("upload aborted"),s=null),y.status&&(s=y.status>=200&&y.status<300||304===y.status?"success":"error"),"success"===s?(h.success&&h.success.call(h.context,z,"success",y),x.resolve(y.responseText,"success",y),p&&e.event.trigger("ajaxSuccess",[y,h])):s&&(void 0===i&&(i=y.statusText),h.error&&h.error.call(h.context,y,s,i),x.reject(y,"error",i),p&&e.event.trigger("ajaxError",[y,h,i])),p&&e.event.trigger("ajaxComplete",[y,h]),p&&!--e.active&&e.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,y,s),I=!0,h.timeout&&clearTimeout(k),setTimeout(function(){h.iframeTarget?g.attr("src",h.iframeSrc):g.remove(),y.responseXML=null},100)}}}var c,d,h,p,f,g,v,y,b,w,$,k,C=u[0],x=e.Deferred();if(x.abort=function(e){y.abort(e)},i)for(d=0;d<m.length;d++)c=e(m[d]),s?c.prop("disabled",!1):c.removeAttr("disabled");if(h=e.extend(!0,{},e.ajaxSettings,t),h.context=h.context||h,f="jqFormIO"+(new Date).getTime(),h.iframeTarget?(g=e(h.iframeTarget),w=g.attr2("name"),w?f=w:g.attr2("name",f)):(g=e('<iframe name="'+f+'" src="'+h.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i="timeout"===t?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(o){}g.attr("src",h.iframeSrc),y.error=i,h.error&&h.error.call(h.context,y,i,t),p&&e.event.trigger("ajaxError",[y,h,i]),h.complete&&h.complete.call(h.context,y,i)}},p=h.global,p&&0===e.active++&&e.event.trigger("ajaxStart"),p&&e.event.trigger("ajaxSend",[y,h]),h.beforeSend&&h.beforeSend.call(h.context,y,h)===!1)return h.global&&e.active--,x.reject(),x;if(y.aborted)return x.reject(),x;b=C.clk,b&&(w=b.name,w&&!b.disabled&&(h.extraData=h.extraData||{},h.extraData[w]=b.value,"image"==b.type&&(h.extraData[w+".x"]=C.clk_x,h.extraData[w+".y"]=C.clk_y)));var S=1,T=2,_=e("meta[name=csrf-token]").attr("content"),D=e("meta[name=csrf-param]").attr("content");D&&_&&(h.extraData=h.extraData||{},h.extraData[D]=_),h.forceSync?a():setTimeout(a,10);var z,P,I,A=50,O=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},M=e.parseJSON||function(e){return window.eval("("+e+")")},E=function(t,i,n){var o=t.getResponseHeader("content-type")||"",s="xml"===i||!i&&o.indexOf("xml")>=0,a=s?t.responseXML:t.responseText;return s&&"parsererror"===a.documentElement.nodeName&&e.error&&e.error("parsererror"),n&&n.dataFilter&&(a=n.dataFilter(a,i)),"string"==typeof a&&("json"===i||!i&&o.indexOf("json")>=0?a=M(a):("script"===i||!i&&o.indexOf("javascript")>=0)&&e.globalEval(a)),a};return x}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,d,u=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),d="string"==typeof c?e.trim(c):"",d=d||window.location.href||"",d&&(d=(d.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:d,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var h={};if(this.trigger("form-pre-serialize",[this,t,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=t.traditional;void 0===p&&(p=e.ajaxSettings.traditional);var f,m=[],g=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,f=e.param(t.data,p)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(g,p);f&&(v=v?v+"&"+f:f),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var y=[];if(t.resetForm&&y.push(function(){u.resetForm()}),t.clearForm&&y.push(function(){u.clearForm(t.includeHidden)}),!t.dataType&&t.target){var b=t.success||function(){};y.push(function(i){var n=t.replaceTarget?"replaceWith":"html";e(t.target)[n](i).each(b,arguments)})}else t.success&&y.push(t.success);if(t.success=function(e,i,n){for(var o=t.context||this,s=0,a=y.length;a>s;s++)y[s].apply(o,[e,i,n||u,u])},t.error){var w=t.error;t.error=function(e,i,n){var o=t.context||this;w.apply(o,[e,i,n,u])}}if(t.complete){var $=t.complete;t.complete=function(e,i){var n=t.context||this;$.apply(n,[e,i,u])}}var k=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),C=k.length>0,x="multipart/form-data",S=u.attr("enctype")==x||u.attr("encoding")==x,T=o.fileapi&&o.formdata;n("fileAPI :"+T);var _,D=(C||S)&&!T;t.iframe!==!1&&(t.iframe||D)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){_=r(g)}):_=r(g):_=(C||S)&&T?a(g):e.ajax(t),u.removeData("jqxhr").data("jqxhr",_);for(var z=0;z<m.length;z++)m[z]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(o){if(o=o||{},o.delegation=o.delegation&&e.isFunction(e.fn.on),!o.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!e.isReady&&s.s?(n("DOM not ready, queuing ajaxForm"),e(function(){e(s.s,s.c).ajaxForm(o)}),this):(n("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return o.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,o,t).on("click.form-plugin",this.selector,o,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",o,t).bind("click.form-plugin",o,i)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,i){var n=[];if(0===this.length)return n;var s,a=this[0],r=this.attr("id"),l=t?a.getElementsByTagName("*"):a.elements;if(l&&!/MSIE [678]/.test(navigator.userAgent)&&(l=e(l).get()),r&&(s=e(':input[form="'+r+'"]').get(),s.length&&(l=(l||[]).concat(s))),!l||!l.length)return n;var c,d,u,h,p,f,m;for(c=0,f=l.length;f>c;c++)if(p=l[c],u=p.name,u&&!p.disabled)if(t&&a.clk&&"image"==p.type)a.clk==p&&(n.push({name:u,value:e(p).val(),type:p.type}),n.push({name:u+".x",value:a.clk_x},{name:u+".y",value:a.clk_y}));else if(h=e.fieldValue(p,!0),h&&h.constructor==Array)for(i&&i.push(p),d=0,m=h.length;m>d;d++)n.push({name:u,value:h[d]});else if(o.fileapi&&"file"==p.type){i&&i.push(p);var g=p.files;if(g.length)for(d=0;d<g.length;d++)n.push({name:u,value:g[d],type:p.type});else n.push({name:u,value:"",type:p.type})}else null!==h&&"undefined"!=typeof h&&(i&&i.push(p),n.push({name:u,value:h,type:p.type,required:p.required}));if(!t&&a.clk){var v=e(a.clk),y=v[0];u=y.name,u&&!y.disabled&&"image"==y.type&&(n.push({name:u,value:v.val()}),n.push({name:u+".x",value:a.clk_x},{name:u+".y",value:a.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var n=this.name;if(n){var o=e.fieldValue(this,t);if(o&&o.constructor==Array)for(var s=0,a=o.length;a>s;s++)i.push({name:n,value:o[s]});else null!==o&&"undefined"!=typeof o&&i.push({name:this.name,value:o})}}),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],n=0,o=this.length;o>n;n++){var s=this[n],a=e.fieldValue(s,t);null===a||"undefined"==typeof a||a.constructor==Array&&!a.length||(a.constructor==Array?e.merge(i,a):i.push(a))}return i},e.fieldValue=function(t,i){var n=t.name,o=t.type,s=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||t.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!t.checked||("submit"==o||"image"==o)&&t.form&&t.form.clk!=t||"select"==s&&-1==t.selectedIndex))return null;if("select"==s){var a=t.selectedIndex;if(0>a)return null;for(var r=[],l=t.options,c="select-one"==o,d=c?a+1:l.length,u=c?a:0;d>u;u++){var h=l[u];if(h.selected){var p=h.value;if(p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return p;r.push(p)}}return r}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,o=this.tagName.toLowerCase();i.test(n)||"textarea"==o?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==o?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(n)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=t;else if("option"==this.tagName.toLowerCase()){var n=e(this).parent("select");t&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1});;
;
;
function isEmail(e){var t=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(e)}$("#other_query1").change(function(){var e=$(this).val();console.log("selected cat:"+e),$(".contact-reasons").addClass("hide"),$("#"+e+"-reason").removeClass("hide"),"OrderDelivery"==e||"ChangeOrder"==e||"PaymentIssues"==e?$("#order-check").removeClass("hide"):$("#order-check").addClass("hide")}),$("#send-btn").click(function(){var e=0,t={},i=$("#other_query1").val();if("OrderDelivery"==i){$("#other_query1").removeClass("sel-error error-border"),t.cat=i;var n=$("#other_query2").val();"Type Of Query"!=n?(t.subcat=n,$("#other_query2").removeClass("sel-error error-border")):($("#other_query2").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#other_query2").removeClass("error-animation")},500),e=1);var o=$("#order-id").val();o?(t.orderid=o,$("#order-id").removeClass("sel-error error-border")):($("#order-id").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#order-id").removeClass("error-animation")},500),e=1)}else if("ChangeOrder"==i){t.cat=i,$("#other_query1").removeClass("sel-error error-border");var n=$("#other_query3").val();"Type Of Query"!=n?(t.subcat=n,$("#other_query3").removeClass("sel-error error-border")):($("#other_query3").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#other_query3").removeClass("error-animation")},500),e=1);var o=$("#order-id").val();o?(t.orderid=o,$("#order-id").removeClass("sel-error error-border")):($("#order-id").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#order-id").removeClass("error-animation")},500),e=1)}else if("PaymentIssues"==i){t.cat=i,$("#other_query1").removeClass("sel-error");var n=$("#other_query4").val();"Type Of Query"!=n?(t.subcat=n,$("#other_query4").removeClass("sel-error error-border")):($("#other_query4").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#other_query4").removeClass("error-animation")},500),e=1);var o=$("#order-id").val();o?(t.orderid=o,$("#order-id").removeClass("sel-error error-border")):($("#order-id").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#order-id").removeClass("error-animation")},500),e=1)}else if("placeorder"==i){t.cat=i,$("#other_query1").removeClass("sel-error");var n=$("#other_query5").val();"Type Of Query"!=n?(t.subcat=n,$("#other_query5").removeClass("sel-error error-border")):($("#other_query5").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#other_query5").removeClass("error-animation")},500),e=1)}else if("others1"==i){t.cat=i,$("#other_query1").removeClass("sel-error error-border");var n=$("#other_query6").val();"Type Of Query"!=n?(t.subcat=n,$("#other_query6").removeClass("sel-error error-border")):($("#other_query6").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#other_query6").removeClass("error-animation ")},500),e=1)}else console.log("q1 error"),$("#other_query1").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#other_query1").removeClass("error-animation")},500),e=1;var s=$("#contact-uname").val();s?(t.name=s,$("#contact-uname").removeClass("sel-error error-border")):($("#contact-uname").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#contact-uname").removeClass("error-animation")},500),e=1);var a=$("#contact-uemail").val();isEmail(a)?(t.email=a,$("#contact-uemail").removeClass("sel-error error-border")):($("#contact-uemail").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#contact-uemail").removeClass("error-animation")},500),e=1);var r=$("#contact-unumber").val();console.log("sdcsdsf"+r.length),10==r.length?(t.mob=r,$("#contact-unumber").removeClass("sel-error error-border")):($("#contact-unumber").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#contact-unumber").removeClass("error-animation")},500),e=1);var l=$("#contact-umsg").val(),c="";l?(1==$(".prod-sku").length?(c=$(".prod-sku").val(),c="SKU_CODE : "+c,t.desc=c+l):t.desc=l,$("#contact-umsg").removeClass("sel-error")):($("#contact-umsg").addClass("sel-error error-border error-animation"),setTimeout(function(){$("#contact-umsg").removeClass("error-animation")},500),e=1),0==e&&(console.log("jsaodnado "+JSON.stringify(t)),$(".contact-details-height").addClass("opacity-0-5"),$("#send-btn").prop("disabled",!0),$.ajax({url:"/api/support",method:"POST",dataType:"json",data:JSON.stringify(t),contentType:"application/json; charset=UTF-8",async:!0,cache:!0,beforeSend:function(e){$('<img src="/images/loading.gif" style="width: 20px;" class="cat-loader" align="center">').insertAfter(".contact-title-border")},success:function(e,t,i){if(console.log(JSON.stringify(e)),"Success"==e.status){$(".cat-loader").remove(),$(".contact-details-height").removeClass("opacity-0-5");var n='<div class="success-msg">Thanks for the support. Your message have been sent. You will be contacted soon by our customer service.</div>';$(".contact-forms").html(n),$("#send-btn").prop("disabled",!1)}else $(".error-msg-text").removeClass("hide"),$(".cat-loader").remove(),$(".contact-details-height").removeClass("opacity-0-5"),$("#send-btn").prop("disabled",!1)},complete:function(e,t){}}))});;
$(function(){var e=$("#carousel-left"),t=$("#carousel-center"),i=$("#carousel-right");e.carouFredSel({auto:!1,items:1,direction:"right",prev:{button:"#prev",fx:"uncover",onBefore:function(){setTimeout(function(){t.trigger("prev")},100)}},next:{fx:"cover"}}),t.carouFredSel({auto:!1,items:1,prev:{onBefore:function(){setTimeout(function(){i.trigger("prev")},100)}},next:{onBefore:function(){setTimeout(function(){e.trigger("next")},100)}}}),i.carouFredSel({auto:!1,items:1,prev:{fx:"cover"},next:{button:"#next",fx:"uncover",onBefore:function(){setTimeout(function(){t.trigger("next")},100)}}})}),$(document).ready(function(){$("#prev").bind("click",function(){return carousel.prev(),!1}),$("#next").bind("click",function(){return carousel.next(),!1}),$("#reload").bind("click",function(){return newOptions=eval("("+$("#newoptions").val()+")"),carousel.reload(newOptions),!1})}),$(".abt-us").on("click",function(){$(".nav-tabs").addClass("hidden"),$("#abt-us").removeClass("hidden"),$(".inline-link-item").removeClass("active-link"),$(".abt-us").addClass("active-link"),$(".cov-img").addClass("hidden"),$(".abt-img").removeClass("hidden"),$(".hero-title").addClass("hidden"),$("#abt-title").removeClass("hidden")}),$(".culture").on("click",function(){$(".nav-tabs").addClass("hidden"),$("#culture").removeClass("hidden"),$(".inline-link-item").removeClass("active-link"),$(".culture").addClass("active-link"),$(".cov-img").addClass("hidden"),$(".cult-img").removeClass("hidden"),$(".hero-title").addClass("hidden"),$("#culture-title").removeClass("hidden")}),$(".join-us").on("click",function(){$(".nav-tabs").addClass("hidden"),$("#join-us").removeClass("hidden"),$(".inline-link-item").removeClass("active-link"),$(".join-us").addClass("active-link"),$(".cov-img").addClass("hidden"),$(".join-img").removeClass("hidden"),$(".hero-title").addClass("hidden"),$("#join-title").removeClass("hidden"),$(".work-culture-roles-carousel").slick({dots:!1,infinite:!0,slidesToShow:4,slidesToScroll:2,nextArrow:'<div class="next common"><i class="fa fa-arrow-right"></i></div>',prevArrow:'<div class="prev common"><i class="fa fa-arrow-left"></i></div>'})}),$(window).scroll(function(){$(".content-row").each(function(){var e=$(this).offset().top,t=$(window).scrollTop();t+200>e&&$(this).addClass("slideUp")}),$(".anim-sld-right").each(function(){var e=$(this).offset().top,t=$(window).scrollTop();t+300>e&&$(this).addClass("slideRight")})});;
$(document).on("click",".mar-main-ques",function(){$(this).parents(".border-main-ques").siblings().find(".mar-desc").hide(),$(this).parents(".border-main-ques").find(".mar-desc").slideToggle()}),$(document).on("click",".main-topics",function(){var e=$(this).data("q-name");$(".main-topics").addClass("opacity"),$(this).removeClass("opacity"),$(".common-queries").addClass("hide"),$("#"+e).removeClass("hide")});;
eval(function(e,t,i,n,o,s){if(o=function(e){return(t>e?"":o(parseInt(e/t)))+((e%=t)>35?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;i--;)s[o(i)]=n[i]||o(i);n=[function(e){return s[e]}],o=function(){return"\\w+"},i=1}for(;i--;)n[i]&&(e=e.replace(new RegExp("\\b"+o(i)+"\\b","g"),n[i]));return e}("(C($){8($.1r.1v){G}$.1r.6s=$.1r.1v=C(u,w){8(1k.R==0){17(I,'6t 57 6u 1j \"'+1k.4p+'\".');G 1k}8(1k.R>1){G 1k.1W(C(){$(1k).1v(u,w)})}E y=1k,$13=1k[0],59=K;8(y.1m('5a')){59=y.1Q('3p','4q');y.S('3p',['4r',I])}y.5b=C(o,a,b){o=3T($13,o);o.D=6v($13,o.D);o.1M=6w($13,o.1M);o.M=6x($13,o.M);o.V=5c($13,o.V);o.Z=5c($13,o.Z);o.1a=6y($13,o.1a);o.1q=6z($13,o.1q);o.1h=6A($13,o.1h);8(a){34=$.1N(I,{},$.1r.1v.5d,o)}7=$.1N(I,{},$.1r.1v.5d,o);7.d=6B(7);z.2b=(7.2b=='4s'||7.2b=='1n')?'Z':'V';E c=y.14(),2n=5e($1s,7,'N');8(3q(7.23)){7.23='7T'+F.3U}7.3V=5f(7,2n);7.D=6C(7.D,7,c,b);7[7.d['N']]=6D(7[7.d['N']],7,c);7[7.d['1d']]=6E(7[7.d['1d']],7,c);8(7.2o){8(!3W(7[7.d['N']])){7[7.d['N']]='2J%'}}8(3W(7[7.d['N']])){z.6F=I;z.4t=7[7.d['N']];7[7.d['N']]=4u(2n,z.4t);8(!7.D.L){7.D.T.1c=I}}8(7.2o){7.1R=K;7.1i=[0,0,0,0];7.1A=K;7.D.T.1c=K}O{8(!7.D.L){7=6G(7,2n)}8(!7[7.d['N']]){8(!7.D.T.1c&&11(7.D[7.d['N']])&&7.D.1t=='*'){7[7.d['N']]=7.D.L*7.D[7.d['N']];7.1A=K}O{7[7.d['N']]='1c'}}8(1E(7.1A)){7.1A=(11(7[7.d['N']]))?'5g':K}8(7.D.T.1c){7.D.L=35(c,7,0)}}8(7.D.1t!='*'&&!7.D.T.1c){7.D.T.4v=7.D.L;7.D.L=3X(c,7,0)}7.D.L=2z(7.D.L,7,7.D.T.2c,$13);7.D.T.1Z=7.D.L;8(7.2o){8(!7.D.T.36){7.D.T.36=7.D.L}8(!7.D.T.1X){7.D.T.1X=7.D.L}7=5h(7,c,2n)}O{7.1i=6H(7.1i);8(7.1A=='3r'){7.1A='1n'}O 8(7.1A=='5i'){7.1A='3a'}1B(7.1A){Q'5g':Q'1n':Q'3a':8(7[7.d['N']]!='1c'){7=5j(7,c);7.1R=I}16;2A:7.1A=K;7.1R=(7.1i[0]==0&&7.1i[1]==0&&7.1i[2]==0&&7.1i[3]==0)?K:I;16}}8(!11(7.1M.1F)){7.1M.1F=6I}8(1E(7.1M.D)){7.1M.D=(7.2o||7.D.T.1c||7.D.1t!='*')?'L':7.D.L}7.M=$.1N(I,{},7.1M,7.M);7.V=$.1N(I,{},7.1M,7.V);7.Z=$.1N(I,{},7.1M,7.Z);7.1a=$.1N(I,{},7.1M,7.1a);7.M=6J($13,7.M);7.V=5k($13,7.V);7.Z=5k($13,7.Z);7.1a=6K($13,7.1a);7.1q=6L($13,7.1q);7.1h=6M($13,7.1h);8(7.2p){7.2p=5l(7.2p)}8(7.M.5m){7.M.4w=7.M.5m;2K('M.5m','M.4w')}8(7.M.5n){7.M.4x=7.M.5n;2K('M.5n','M.4x')}8(7.M.5o){7.M.4y=7.M.5o;2K('M.5o','M.4y')}8(7.M.5p){7.M.2L=7.M.5p;2K('M.5p','M.2L')}};y.6N=C(){y.1m('5a',I);E a=y.14(),3Y=5q(y,['6O','6P','3s','3r','3a','5i','1n','3Z','N','1d','6Q','1S','5r','6R']),5s='7U';1B(3Y.3s){Q'6S':Q'7V':5s=3Y.3s;16}$1s.X(3Y).X({'7W':'3t','3s':5s});y.1m('5t',3Y).X({'6O':'1n','6P':'41','3s':'6S','3r':0,'3a':'M','5i':'M','1n':0,'6Q':0,'1S':0,'5r':0,'6R':0});4z(a,7);5u(a,7);8(7.2o){5v(7,a)}};y.6T=C(){y.5w();y.12(H('5x',F),C(e,a){e.1f();8(!z.2d){8(7.M.W){7.M.W.3b(2B('4A',F))}}z.2d=I;8(7.M.1G){7.M.1G=K;y.S(H('3c',F),a)}G I});y.12(H('5y',F),C(e){e.1f();8(z.25){42(U)}G I});y.12(H('3c',F),C(e,a,b){e.1f();1u=3u(1u);8(a&&z.25){U.2d=I;E c=2q()-U.2M;U.1F-=c;8(U.3v){U.3v.1F-=c}8(U.3w){U.3w.1F-=c}42(U,K)}8(!z.26&&!z.25){8(b){1u.3x+=2q()-1u.2M}}8(!z.26){8(7.M.W){7.M.W.3b(2B('6U',F))}}z.26=I;8(7.M.4x){E d=7.M.2L-1u.3x,3d=2J-1H.2C(d*2J/7.M.2L);7.M.4x.1g($13,3d,d)}G I});y.12(H('1G',F),C(e,b,c,d){e.1f();1u=3u(1u);E v=[b,c,d],t=['2N','27','3e'],a=3f(v,t);b=a[0];c=a[1];d=a[2];8(b!='V'&&b!='Z'){b=z.2b}8(!11(c)){c=0}8(!1l(d)){d=K}8(d){z.2d=K;7.M.1G=I}8(!7.M.1G){e.2e();G 17(F,'3y 4A: 2r 3g.')}8(z.26){8(7.M.W){7.M.W.2O(2B('4A',F));7.M.W.2O(2B('6U',F))}}z.26=K;1u.2M=2q();E f=7.M.2L+c;43=f-1u.3x;3d=2J-1H.2C(43*2J/f);8(7.M.1e){1u.1e=7X(C(){E a=2q()-1u.2M+1u.3x,3d=1H.2C(a*2J/f);7.M.1e.4B.1g(7.M.1e.2s[0],3d)},7.M.1e.5z)}1u.M=7Y(C(){8(7.M.1e){7.M.1e.4B.1g(7.M.1e.2s[0],2J)}8(7.M.4y){7.M.4y.1g($13,3d,43)}8(z.25){y.S(H('1G',F),b)}O{y.S(H(b,F),7.M)}},43);8(7.M.4w){7.M.4w.1g($13,3d,43)}G I});y.12(H('3h',F),C(e){e.1f();8(U.2d){U.2d=K;z.26=K;z.25=I;U.2M=2q();2P(U)}O{y.S(H('1G',F))}G I});y.12(H('V',F)+' '+H('Z',F),C(e,b,f,g,h){e.1f();8(z.2d||y.2f(':3t')){e.2e();G 17(F,'3y 4A 7Z 3t: 2r 3g.')}E i=(11(7.D.4C))?7.D.4C:7.D.L+1;8(i>J.P){e.2e();G 17(F,'2r 6V D ('+J.P+' P, '+i+' 6W): 2r 3g.')}E v=[b,f,g,h],t=['2g','27/2N','C','3e'],a=3f(v,t);b=a[0];f=a[1];g=a[2];h=a[3];E k=e.5A.18(F.3z.44.R);8(!1I(b)){b={}}8(1o(g)){b.3i=g}8(1l(h)){b.2Q=h}b=$.1N(I,{},7[k],b);8(b.5B&&!b.5B.1g($13,k)){e.2e();G 17(F,'80 \"5B\" 81 K.')}8(!11(f)){8(7.D.1t!='*'){f='L'}O{E m=[f,b.D,7[k].D];1j(E a=0,l=m.R;a<l;a++){8(11(m[a])||m[a]=='6X'||m[a]=='L'){f=m[a];16}}}1B(f){Q'6X':e.2e();G y.1Q(H(k+'82',F),[b,g]);16;Q'L':8(!7.D.T.1c&&7.D.1t=='*'){f=7.D.L}16}}8(U.2d){y.S(H('3h',F));y.S(H('2Q',F),[k,[b,f,g]]);e.2e();G 17(F,'3y 83 3g.')}8(b.1F>0){8(z.25){8(b.2Q){8(b.2Q=='2R'){2h=[]}8(b.2Q!='Y'||2h.R==0){y.S(H('2Q',F),[k,[b,f,g]])}}e.2e();G 17(F,'3y 84 3g.')}}1u.3x=0;y.S(H('6Y'+k,F),[b,f]);8(7.2p){E s=7.2p,c=[b,f];1j(E j=0,l=s.R;j<l;j++){E d=k;8(!s[j][2]){d=(d=='V')?'Z':'V'}8(!s[j][1]){c[0]=s[j][0].1Q('3p',['4D',d])}c[1]=f+s[j][3];s[j][0].S('3p',['6Y'+d,c])}}G I});y.12(H('85',F),C(e,b,c){e.1f();E d=y.14();8(!7.1T){8(J.Y==0){8(7.3A){y.S(H('Z',F),J.P-1)}G e.2e()}}1U(d,7);8(!11(c)){8(7.D.T.1c){c=4E(d,7,J.P-1)}O 8(7.D.1t!='*'){E f=(11(b.D))?b.D:5C(y,7);c=6Z(d,7,J.P-1,f)}O{c=7.D.L}c=4F(c,7,b.D,$13)}8(!7.1T){8(J.P-c<J.Y){c=J.P-J.Y}}7.D.T.1Z=7.D.L;8(7.D.T.1c){E g=2z(35(d,7,J.P-c),7,7.D.T.2c,$13);8(7.D.L+c<=g&&c<J.P){c++;g=2z(35(d,7,J.P-c),7,7.D.T.2c,$13)}7.D.L=g}O 8(7.D.1t!='*'){E g=3X(d,7,J.P-c);7.D.L=2z(g,7,7.D.T.2c,$13)}1U(d,7,I);8(c==0){e.2e();G 17(F,'0 D 45 1M: 2r 3g.')}17(F,'70 '+c+' D 5D.');J.Y+=c;2i(J.Y>=J.P){J.Y-=J.P}8(!7.1T){8(J.Y==0&&b.4G){b.4G.1g($13,'V')}8(!7.3A){3B(7,J.Y,F)}}y.14().18(J.P-c,J.P).86(y);8(J.P<7.D.L+c){y.14().18(0,(7.D.L+c)-J.P).4H(I).46(y)}E d=y.14(),3j=71(d,7,c),2j=72(d,7),1Y=d.1O(c-1),20=3j.2R(),2t=2j.2R();1U(d,7);E h=0,2D=0;8(7.1A){E p=4I(2j,7);h=p[0];2D=p[1]}E i=(h<0)?7.1i[7.d[3]]:0;E j=K,2S=$();8(7.D.L<c){2S=d.18(7.D.T.1Z,c);8(b.1V=='73'){E k=7.D[7.d['N']];j=2S;1Y=2t;5E(j);7.D[7.d['N']]='1c'}}E l=K,3C=2T(d.18(0,c),7,'N'),2k=4J(4K(2j,7,I),7,!7.1R),3D=0,28={},4L={},2u={},2U={},4M={},2V={},5F={},2W=5G(b,7,c,3C);1B(b.1V){Q'1J':Q'1J-1w':3D=2T(d.18(0,7.D.L),7,'N');16}8(j){7.D[7.d['N']]=k}1U(d,7,I);8(2D>=0){1U(20,7,7.1i[7.d[1]])}8(h>=0){1U(1Y,7,7.1i[7.d[3]])}8(7.1A){7.1i[7.d[1]]=2D;7.1i[7.d[3]]=h}2V[7.d['1n']]=-(3C-i);5F[7.d['1n']]=-(3D-i);4L[7.d['1n']]=2k[7.d['N']];E m=C(){},1P=C(){},1C=C(){},3E=C(){},2E=C(){},5H=C(){},1D=C(){},3F=C(){},1x=C(){},1y=C(){},1K=C(){};1B(b.1V){Q'3k':Q'1J':Q'1J-1w':Q'21':Q'21-1w':l=y.4H(I).46($1s);16}1B(b.1V){Q'3k':Q'21':Q'21-1w':l.14().18(0,c).2v();l.14().18(7.D.T.1Z).2v();16;Q'1J':Q'1J-1w':l.14().18(7.D.L).2v();l.X(5F);16}y.X(2V);U=47(2W,b.2l);28[7.d['1n']]=(7.1R)?7.1i[7.d[3]]:0;8(7[7.d['N']]=='1c'||7[7.d['1d']]=='1c'){m=C(){$1s.X(2k)};1P=C(){U.19.1b([$1s,2k])}}8(7.1R){8(2t.4N(1Y).R){2u[7.d['1S']]=1Y.1m('29');8(h<0){1Y.X(2u)}O{1D=C(){1Y.X(2u)};3F=C(){U.19.1b([1Y,2u])}}}1B(b.1V){Q'1J':Q'1J-1w':l.14().1O(c-1).X(2u);16}8(2t.4N(20).R){2U[7.d['1S']]=20.1m('29');1C=C(){20.X(2U)};3E=C(){U.19.1b([20,2U])}}8(2D>=0){4M[7.d['1S']]=2t.1m('29')+7.1i[7.d[1]];2E=C(){2t.X(4M)};5H=C(){U.19.1b([2t,4M])}}}1K=C(){y.X(28)};E n=7.D.L+c-J.P;1y=C(){8(n>0){y.14().18(J.P).2v();3j=$(y.14().18(J.P-(7.D.L-n)).3G().74(y.14().18(0,n).3G()))}5I(j);8(7.1R){E a=y.14().1O(7.D.L+c-1);a.X(7.d['1S'],a.1m('29'))}};E o=5J(3j,2S,2j,c,'V',2W,2k);1x=C(){5K(y,l,b);z.25=K;2a.3i=48($13,b,'3i',o,2a);2h=5L(y,2h,F);8(!z.26){y.S(H('1G',F))}};z.25=I;1u=3u(1u);2a.3H=48($13,b,'3H',o,2a);1B(b.1V){Q'41':y.X(28);m();1C();2E();1D();1K();1y();1x();16;Q'1w':U.19.1b([y,{'1L':0},C(){m();1C();2E();1D();1K();1y();U=47(2W,b.2l);U.19.1b([y,{'1L':1},1x]);2P(U)}]);16;Q'3k':y.X({'1L':0});U.19.1b([l,{'1L':0}]);U.19.1b([y,{'1L':1},1x]);1P();1C();2E();1D();1K();1y();16;Q'1J':U.19.1b([l,28,C(){1C();2E();1D();1K();1y();1x()}]);1P();16;Q'1J-1w':U.19.1b([y,{'1L':0}]);U.19.1b([l,28,C(){y.X({'1L':1});1C();2E();1D();1K();1y();1x()}]);1P();16;Q'21':U.19.1b([l,4L,1x]);1P();1C();2E();1D();1K();1y();16;Q'21-1w':y.X({'1L':0});U.19.1b([y,{'1L':1}]);U.19.1b([l,4L,1x]);1P();1C();2E();1D();1K();1y();16;2A:U.19.1b([y,28,C(){1y();1x()}]);1P();3E();5H();3F();16}2P(U);5M(7.23,y,F);y.S(H('3I',F),[K,2k]);G I});y.12(H('87',F),C(e,c,d){e.1f();E f=y.14();8(!7.1T){8(J.Y==7.D.L){8(7.3A){y.S(H('V',F),J.P-1)}G e.2e()}}1U(f,7);8(!11(d)){8(7.D.1t!='*'){E g=(11(c.D))?c.D:5C(y,7);d=75(f,7,0,g)}O{d=7.D.L}d=4F(d,7,c.D,$13)}E h=(J.Y==0)?J.P:J.Y;8(!7.1T){8(7.D.T.1c){E i=35(f,7,d),g=4E(f,7,h-1)}O{E i=7.D.L,g=7.D.L}8(d+i>h){d=h-g}}7.D.T.1Z=7.D.L;8(7.D.T.1c){E i=2z(5N(f,7,d,h),7,7.D.T.2c,$13);2i(7.D.L-d>=i&&d<J.P){d++;i=2z(5N(f,7,d,h),7,7.D.T.2c,$13)}7.D.L=i}O 8(7.D.1t!='*'){E i=3X(f,7,d);7.D.L=2z(i,7,7.D.T.2c,$13)}1U(f,7,I);8(d==0){e.2e();G 17(F,'0 D 45 1M: 2r 3g.')}17(F,'70 '+d+' D 76.');J.Y-=d;2i(J.Y<0){J.Y+=J.P}8(!7.1T){8(J.Y==7.D.L&&c.4G){c.4G.1g($13,'Z')}8(!7.3A){3B(7,J.Y,F)}}8(J.P<7.D.L+d){y.14().18(0,(7.D.L+d)-J.P).4H(I).46(y)}E f=y.14(),3j=77(f,7),2j=78(f,7,d),1Y=f.1O(d-1),20=3j.2R(),2t=2j.2R();1U(f,7);E j=0,2D=0;8(7.1A){E p=4I(2j,7);j=p[0];2D=p[1]}E k=K,2S=$();8(7.D.T.1Z<d){2S=f.18(7.D.T.1Z,d);8(c.1V=='73'){E l=7.D[7.d['N']];k=2S;1Y=20;5E(k);7.D[7.d['N']]='1c'}}E m=K,3C=2T(f.18(0,d),7,'N'),2k=4J(4K(2j,7,I),7,!7.1R),3D=0,28={},4O={},2u={},2U={},2V={},2W=5G(c,7,d,3C);1B(c.1V){Q'21':Q'21-1w':3D=2T(f.18(0,7.D.T.1Z),7,'N');16}8(k){7.D[7.d['N']]=l}8(7.1A){8(7.1i[7.d[1]]<0){7.1i[7.d[1]]=0}}1U(f,7,I);1U(20,7,7.1i[7.d[1]]);8(7.1A){7.1i[7.d[1]]=2D;7.1i[7.d[3]]=j}2V[7.d['1n']]=(7.1R)?7.1i[7.d[3]]:0;E n=C(){},1P=C(){},1C=C(){},3E=C(){},1D=C(){},3F=C(){},1x=C(){},1y=C(){},1K=C(){};1B(c.1V){Q'3k':Q'1J':Q'1J-1w':Q'21':Q'21-1w':m=y.4H(I).46($1s);m.14().18(7.D.T.1Z).2v();16}1B(c.1V){Q'3k':Q'1J':Q'1J-1w':y.X('3Z',1);m.X('3Z',0);16}U=47(2W,c.2l);28[7.d['1n']]=-3C;4O[7.d['1n']]=-3D;8(j<0){28[7.d['1n']]+=j}8(7[7.d['N']]=='1c'||7[7.d['1d']]=='1c'){n=C(){$1s.X(2k)};1P=C(){U.19.1b([$1s,2k])}}8(7.1R){E o=2t.1m('29');8(2D>=0){o+=7.1i[7.d[1]]}2t.X(7.d['1S'],o);8(1Y.4N(20).R){2U[7.d['1S']]=20.1m('29')}1C=C(){20.X(2U)};3E=C(){U.19.1b([20,2U])};E q=1Y.1m('29');8(j>0){q+=7.1i[7.d[3]]}2u[7.d['1S']]=q;1D=C(){1Y.X(2u)};3F=C(){U.19.1b([1Y,2u])}}1K=C(){y.X(2V)};E r=7.D.L+d-J.P;1y=C(){8(r>0){y.14().18(J.P).2v()}E a=y.14().18(0,d).46(y).2R();8(r>0){2j=3J(f,7)}5I(k);8(7.1R){8(J.P<7.D.L+d){E b=y.14().1O(7.D.L-1);b.X(7.d['1S'],b.1m('29')+7.1i[7.d[3]])}a.X(7.d['1S'],a.1m('29'))}};E s=5J(3j,2S,2j,d,'Z',2W,2k);1x=C(){y.X('3Z',y.1m('5t').3Z);5K(y,m,c);z.25=K;2a.3i=48($13,c,'3i',s,2a);2h=5L(y,2h,F);8(!z.26){y.S(H('1G',F))}};z.25=I;1u=3u(1u);2a.3H=48($13,c,'3H',s,2a);1B(c.1V){Q'41':y.X(28);n();1C();1D();1K();1y();1x();16;Q'1w':U.19.1b([y,{'1L':0},C(){n();1C();1D();1K();1y();U=47(2W,c.2l);U.19.1b([y,{'1L':1},1x]);2P(U)}]);16;Q'3k':y.X({'1L':0});U.19.1b([m,{'1L':0}]);U.19.1b([y,{'1L':1},1x]);1P();1C();1D();1K();1y();16;Q'1J':y.X(7.d['1n'],$1s[7.d['N']]());U.19.1b([y,2V,1x]);1P();1C();1D();1y();16;Q'1J-1w':y.X(7.d['1n'],$1s[7.d['N']]());U.19.1b([m,{'1L':0}]);U.19.1b([y,2V,1x]);1P();1C();1D();1y();16;Q'21':U.19.1b([m,4O,1x]);1P();1C();1D();1K();1y();16;Q'21-1w':y.X({'1L':0});U.19.1b([y,{'1L':1}]);U.19.1b([m,4O,1x]);1P();1C();1D();1K();1y();16;2A:U.19.1b([y,28,C(){1K();1y();1x()}]);1P();3E();3F();16}2P(U);5M(7.23,y,F);y.S(H('3I',F),[K,2k]);G I});y.12(H('3l',F),C(e,b,c,d,f,g,h){e.1f();E v=[b,c,d,f,g,h],t=['2N/27/2g','27','3e','2g','2N','C'],a=3f(v,t);f=a[3];g=a[4];h=a[5];b=3K(a[0],a[1],a[2],J,y);8(b==0){G K}8(!1I(f)){f=K}8(g!='V'&&g!='Z'){8(7.1T){g=(b<=J.P/2)?'Z':'V'}O{g=(J.Y==0||J.Y>b)?'Z':'V'}}8(g=='V'){b=J.P-b}y.S(H(g,F),[f,b,h]);G I});y.12(H('88',F),C(e,a,b){e.1f();E c=y.1Q(H('4a',F));G y.1Q(H('5O',F),[c-1,a,'V',b])});y.12(H('89',F),C(e,a,b){e.1f();E c=y.1Q(H('4a',F));G y.1Q(H('5O',F),[c+1,a,'Z',b])});y.12(H('5O',F),C(e,a,b,c,d){e.1f();8(!11(a)){a=y.1Q(H('4a',F))}E f=7.1a.D||7.D.L,1X=1H.2C(J.P/f)-1;8(a<0){a=1X}8(a>1X){a=0}G y.1Q(H('3l',F),[a*f,0,I,b,c,d])});y.12(H('79',F),C(e,s){e.1f();8(s){s=3K(s,0,I,J,y)}O{s=0}s+=J.Y;8(s!=0){8(J.P>0){2i(s>J.P){s-=J.P}}y.8a(y.14().18(s,J.P))}G I});y.12(H('2p',F),C(e,s){e.1f();8(s){s=5l(s)}O 8(7.2p){s=7.2p}O{G 17(F,'6t 8b 45 2p.')}E n=y.1Q(H('4q',F)),x=I;1j(E j=0,l=s.R;j<l;j++){8(!s[j][0].1Q(H('3l',F),[n,s[j][3],I])){x=K}}G x});y.12(H('2Q',F),C(e,a,b){e.1f();8(1o(a)){a.1g($13,2h)}O 8(2X(a)){2h=a}O 8(!1E(a)){2h.1b([a,b])}G 2h});y.12(H('8c',F),C(e,b,c,d,f){e.1f();E v=[b,c,d,f],t=['2N/2g','2N/27/2g','3e','27'],a=3f(v,t);b=a[0];c=a[1];d=a[2];f=a[3];8(1I(b)&&!2w(b)){b=$(b)}O 8(1p(b)){b=$(b)}8(!2w(b)||b.R==0){G 17(F,'2r a 5P 2g.')}8(1E(c)){c='4b'}4z(b,7);5u(b,7);E g=c,4c='4c';8(c=='4b'){8(d){8(J.Y==0){c=J.P-1;4c='7a'}O{c=J.Y;J.Y+=b.R}8(c<0){c=0}}O{c=J.P-1;4c='7a'}}O{c=3K(c,f,d,J,y)}E h=y.14().1O(c);8(h.R){h[4c](b)}O{17(F,'8d 8e-3s 4N 6u! 8f 8g 45 3L 4b.');y.7b(b)}8(g!='4b'&&!d){8(c<J.Y){J.Y+=b.R}}J.P=y.14().R;8(J.Y>=J.P){J.Y-=J.P}y.S(H('4P',F));y.S(H('5Q',F));G I});y.12(H('7c',F),C(e,c,d,f){e.1f();E v=[c,d,f],t=['2N/27/2g','3e','27'],a=3f(v,t);c=a[0];d=a[1];f=a[2];E g=K;8(c 2Y $&&c.R>1){h=$();c.1W(C(i,a){E b=y.S(H('7c',F),[$(1k),d,f]);8(b)h=h.8h(b)});G h}8(1E(c)||c=='4b'){h=y.14().2R()}O{c=3K(c,f,d,J,y);E h=y.14().1O(c);8(h.R){8(c<J.Y)J.Y-=h.R}}8(h&&h.R){h.8i();J.P=y.14().R;y.S(H('4P',F))}G h});y.12(H('3H',F)+' '+H('3i',F),C(e,a){e.1f();E b=e.5A.18(F.3z.44.R);8(2X(a)){2a[b]=a}8(1o(a)){2a[b].1b(a)}G 2a[b]});y.12(H('4q',F),C(e,a){e.1f();8(J.Y==0){E b=0}O{E b=J.P-J.Y}8(1o(a)){a.1g($13,b)}G b});y.12(H('4a',F),C(e,a){e.1f();E b=7.1a.D||7.D.L,1X=1H.2C(J.P/b-1),2m;8(J.Y==0){2m=0}O 8(J.Y<J.P%b){2m=0}O 8(J.Y==b&&!7.1T){2m=1X}O{2m=1H.7d((J.P-J.Y)/b)}8(2m<0){2m=0}8(2m>1X){2m=1X}8(1o(a)){a.1g($13,2m)}G 2m});y.12(H('8j',F),C(e,a){e.1f();E b=3J(y.14(),7);8(1o(a)){a.1g($13,b)}G b});y.12(H('18',F),C(e,f,l,b){e.1f();8(J.P==0){G K}E v=[f,l,b],t=['27','27','C'],a=3f(v,t);f=(11(a[0]))?a[0]:0;l=(11(a[1]))?a[1]:J.P;b=a[2];f+=J.Y;l+=J.Y;8(D.P>0){2i(f>J.P){f-=J.P}2i(l>J.P){l-=J.P}2i(f<0){f+=J.P}2i(l<0){l+=J.P}}E c=y.14(),$i;8(l>f){$i=c.18(f,l)}O{$i=$(c.18(f,J.P).3G().74(c.18(0,l).3G()))}8(1o(b)){b.1g($13,$i)}G $i});y.12(H('26',F)+' '+H('2d',F)+' '+H('25',F),C(e,a){e.1f();E b=e.5A.18(F.3z.44.R),5R=z[b];8(1o(a)){a.1g($13,5R)}G 5R});y.12(H('4D',F),C(e,a,b,c){e.1f();E d=K;8(1o(a)){a.1g($13,7)}O 8(1I(a)){34=$.1N(I,{},34,a);8(b!==K)d=I;O 7=$.1N(I,{},7,a)}O 8(!1E(a)){8(1o(b)){E f=4Q('7.'+a);8(1E(f)){f=''}b.1g($13,f)}O 8(!1E(b)){8(2Z c!=='3e')c=I;4Q('34.'+a+' = b');8(c!==K)d=I;O 4Q('7.'+a+' = b')}O{G 4Q('7.'+a)}}8(d){1U(y.14(),7);y.5b(34);y.5S();E g=4R(y,7);y.S(H('3I',F),[I,g])}G 7});y.12(H('5Q',F),C(e,a,b){e.1f();8(1E(a)){a=$('8k')}O 8(1p(a)){a=$(a)}8(!2w(a)||a.R==0){G 17(F,'2r a 5P 2g.')}8(!1p(b)){b='a.6s'}a.8l(b).1W(C(){E h=1k.7e||'';8(h.R>0&&y.14().7f($(h))!=-1){$(1k).22('5T').5T(C(e){e.2F();y.S(H('3l',F),h)})}});G I});y.12(H('3I',F),C(e,b,c){e.1f();8(!7.1a.1z){G}E d=7.1a.D||7.D.L,4S=1H.2C(J.P/d);8(b){8(7.1a.3M){7.1a.1z.14().2v();7.1a.1z.1W(C(){1j(E a=0;a<4S;a++){E i=y.14().1O(3K(a*d,0,I,J,y));$(1k).7b(7.1a.3M.1g(i[0],a+1))}})}7.1a.1z.1W(C(){$(1k).14().22(7.1a.3N).1W(C(a){$(1k).12(7.1a.3N,C(e){e.2F();y.S(H('3l',F),[a*d,-7.1a.4T,I,7.1a])})})})}E f=y.1Q(H('4a',F))+7.1a.4T;8(f>=4S){f=0}8(f<0){f=4S-1}7.1a.1z.1W(C(){$(1k).14().2O(2B('7g',F)).1O(f).3b(2B('7g',F))});G I});y.12(H('4P',F),C(e){E a=7.D.L,2G=y.14(),2n=5e($1s,7,'N');J.P=2G.R;8(z.4t){7.3V=2n;7[7.d['N']]=4u(2n,z.4t)}O{7.3V=5f(7,2n)}8(7.2o){7.D.N=7.D.3O.N;7.D.1d=7.D.3O.1d;7=5h(7,2G,2n);a=7.D.L;5v(7,2G)}O 8(7.D.T.1c){a=35(2G,7,0)}O 8(7.D.1t!='*'){a=3X(2G,7,0)}8(!7.1T&&J.Y!=0&&a>J.Y){8(7.D.T.1c){E b=4E(2G,7,J.Y)-J.Y}O 8(7.D.1t!='*'){E b=7h(2G,7,J.Y)-J.Y}O{E b=7.D.L-J.Y}17(F,'8m 8n-1T: 8o '+b+' D 5D.');y.S(H('V',F),b)}7.D.L=2z(a,7,7.D.T.2c,$13);7.D.T.1Z=7.D.L;7=5j(7,2G);E c=4R(y,7);y.S(H('3I',F),[I,c]);4U(7,J.P,F);3B(7,J.Y,F);G c});y.12(H('4r',F),C(e,a){e.1f();1u=3u(1u);y.1m('5a',K);y.S(H('5y',F));8(a){y.S(H('79',F))}1U(y.14(),7);8(7.2o){y.14().1W(C(){$(1k).X($(1k).1m('7i'))})}y.X(y.1m('5t'));y.5w();y.5U();$1s.8p(y);G I});y.12(H('17',F),C(e){17(F,'3y N: '+7.N);17(F,'3y 1d: '+7.1d);17(F,'7j 8q: '+7.D.N);17(F,'7j 8r: '+7.D.1d);17(F,'4d 4e D L: '+7.D.L);8(7.M.1G){17(F,'4d 4e D 5V 8s: '+7.M.D)}8(7.V.W){17(F,'4d 4e D 5V 5D: '+7.V.D)}8(7.Z.W){17(F,'4d 4e D 5V 76: '+7.Z.D)}G F.17});y.12('3p',C(e,n,o){e.1f();G y.1Q(H(n,F),o)})};y.5w=C(){y.22(H('',F));y.22(H('',F,K));y.22('3p')};y.5S=C(){y.5U();4U(7,J.P,F);3B(7,J.Y,F);8(7.M.2H){E b=3P(7.M.2H);$1s.12(H('4V',F,K),C(){y.S(H('3c',F),b)}).12(H('4W',F,K),C(){y.S(H('3h',F))})}8(7.M.W){7.M.W.12(H(7.M.3N,F,K),C(e){e.2F();E a=K,b=2x;8(z.26){a='1G'}O 8(7.M.4X){a='3c';b=3P(7.M.4X)}8(a){y.S(H(a,F),b)}})}8(7.V.W){7.V.W.12(H(7.V.3N,F,K),C(e){e.2F();y.S(H('V',F))});8(7.V.2H){E b=3P(7.V.2H);7.V.W.12(H('4V',F,K),C(){y.S(H('3c',F),b)}).12(H('4W',F,K),C(){y.S(H('3h',F))})}}8(7.Z.W){7.Z.W.12(H(7.Z.3N,F,K),C(e){e.2F();y.S(H('Z',F))});8(7.Z.2H){E b=3P(7.Z.2H);7.Z.W.12(H('4V',F,K),C(){y.S(H('3c',F),b)}).12(H('4W',F,K),C(){y.S(H('3h',F))})}}8(7.1a.1z){8(7.1a.2H){E b=3P(7.1a.2H);7.1a.1z.12(H('4V',F,K),C(){y.S(H('3c',F),b)}).12(H('4W',F,K),C(){y.S(H('3h',F))})}}8(7.V.31||7.Z.31){$(4f).12(H('7k',F,K,I,I),C(e){E k=e.7l;8(k==7.Z.31){e.2F();y.S(H('Z',F))}8(k==7.V.31){e.2F();y.S(H('V',F))}})}8(7.1a.4Y){$(4f).12(H('7k',F,K,I,I),C(e){E k=e.7l;8(k>=49&&k<58){k=(k-49)*7.D.L;8(k<=J.P){e.2F();y.S(H('3l',F),[k,0,I,7.1a])}}})}8(7.V.4Z||7.Z.4Z){2K('3L 4g-7m','3L 8t-7m');8($.1r.4g){E c=(7.V.4Z)?C(){y.S(H('V',F))}:2x,4h=(7.Z.4Z)?C(){y.S(H('Z',F))}:2x;8(4h||4h){8(!z.4g){z.4g=I;E d={'8u':30,'8v':30,'8w':I};1B(7.2b){Q'4s':Q'5W':d.8x=c;d.8y=4h;16;2A:d.8z=4h;d.8A=c}$1s.4g(d)}}}}8($.1r.1q){E f='8B'8C 3m;8((f&&7.1q.4i)||(!f&&7.1q.5X)){E g=$.1N(I,{},7.V,7.1q),7n=$.1N(I,{},7.Z,7.1q),5Y=C(){y.S(H('V',F),[g])},5Z=C(){y.S(H('Z',F),[7n])};1B(7.2b){Q'4s':Q'5W':7.1q.2I.8D=5Z;7.1q.2I.8E=5Y;16;2A:7.1q.2I.8F=5Z;7.1q.2I.8G=5Y}8(z.1q){y.1q('4r')}$1s.1q(7.1q.2I);$1s.X('7o','8H');z.1q=I}}8($.1r.1h){8(7.V.1h){2K('7p V.1h 7q','3L 1h 4D 2g');7.V.1h=2x;7.1h={D:61(7.V.1h)}}8(7.Z.1h){2K('7p Z.1h 7q','3L 1h 4D 2g');7.Z.1h=2x;7.1h={D:61(7.Z.1h)}}8(7.1h){E h=$.1N(I,{},7.V,7.1h),7r=$.1N(I,{},7.Z,7.1h);8(z.1h){$1s.22(H('1h',F,K))}$1s.12(H('1h',F,K),C(e,a){e.2F();8(a>0){y.S(H('V',F),[h])}O{y.S(H('Z',F),[7r])}});z.1h=I}}8(7.M.1G){y.S(H('1G',F),7.M.62)}8(z.6F){E i=C(e){y.S(H('5y',F));8(7.M.63&&!z.26){y.S(H('1G',F))}1U(y.14(),7);y.S(H('4P',F))};E j=$(3m),4j=2x;8($.64&&F.65=='64'){4j=$.64(8I,i)}O 8($.51&&F.65=='51'){4j=$.51(8J,i)}O{E l=0,66=0;4j=C(){E a=j.N(),68=j.1d();8(a!=l||68!=66){i();l=a;66=68}}}j.12(H('8K',F,K,I,I),4j)}};y.5U=C(){E a=H('',F),3Q=H('',F,K);69=H('',F,K,I,I);$(4f).22(69);$(3m).22(69);$1s.22(3Q);8(7.M.W){7.M.W.22(3Q)}8(7.V.W){7.V.W.22(3Q)}8(7.Z.W){7.Z.W.22(3Q)}8(7.1a.1z){7.1a.1z.22(3Q);8(7.1a.3M){7.1a.1z.14().2v()}}8(z.1q){y.1q('4r');$1s.X('7o','2A');z.1q=K}8(z.1h){z.1h=K}4U(7,'4k',F);3B(7,'2O',F)};8(1l(w)){w={'17':w}}E z={'2b':'Z','26':I,'25':K,'2d':K,'1h':K,'1q':K},J={'P':y.14().R,'Y':0},1u={'M':2x,'1e':2x,'2M':2q(),'3x':0},U={'2d':K,'1F':0,'2M':0,'2l':'','19':[]},2a={'3H':[],'3i':[]},2h=[],F=$.1N(I,{},$.1r.1v.7s,w),7={},34=$.1N(I,{},u),$1s=y.8L('<'+F.6a.57+' 8M=\"'+F.6a.7t+'\" />').6b();F.4p=y.4p;F.3U=$.1r.1v.3U++;y.5b(34,I,59);y.6N();y.6T();y.5S();8(2X(7.D.3n)){E A=7.D.3n}O{E A=[];8(7.D.3n!=0){A.1b(7.D.3n)}}8(7.23){A.8N(4l(7u(7.23),10))}8(A.R>0){1j(E a=0,l=A.R;a<l;a++){E s=A[a];8(s==0){6c}8(s===I){s=3m.8O.7e;8(s.R<1){6c}}O 8(s==='7v'){s=1H.4m(1H.7v()*J.P)}8(y.1Q(H('3l',F),[s,0,I,{1V:'41'}])){16}}}E B=4R(y,7),7w=3J(y.14(),7);8(7.7x){7.7x.1g($13,{'N':B.N,'1d':B.1d,'D':7w})}y.S(H('3I',F),[I,B]);y.S(H('5Q',F));8(F.17){y.S(H('17',F))}G y};$.1r.1v.3U=1;$.1r.1v.5d={'2p':K,'3A':I,'1T':I,'2o':K,'2b':'1n','D':{'3n':0},'1M':{'2l':'8P','1F':6I,'2H':K,'3N':'5T','2Q':K}};$.1r.1v.7s={'17':K,'65':'51','3z':{'44':'','7y':'8Q'},'6a':{'57':'8R','7t':'8S'},'6d':{}};$.1r.1v.7z=C(a){G'<a 8T=\"#\"><7A>'+a+'</7A></a>'};$.1r.1v.7B=C(a){$(1k).X('N',a+'%')};$.1r.1v.23={3G:C(n){n+='=';E b=4f.23.3R(';');1j(E a=0,l=b.R;a<l;a++){E c=b[a];2i(c.8U(0)==' '){c=c.18(1)}8(c.3S(n)==0){G c.18(n.R)}}G 0},6e:C(n,v,d){E e=\"\";8(d){E a=6f 7C();a.8V(a.2q()+(d*24*60*60*8W));e=\"; 8X=\"+a.8Y()}4f.23=n+'='+v+e+'; 8Z=/'},2v:C(n){$.1r.1v.23.6e(n,\"\",-1)}};C 47(d,e){G{19:[],1F:d,90:d,2l:e,2M:2q()}}C 2P(s){8(1I(s.3v)){2P(s.3v)}1j(E a=0,l=s.19.R;a<l;a++){E b=s.19[a];8(!b){6c}8(b[3]){b[0].5x()}b[0].91(b[1],{92:b[2],1F:s.1F,2l:s.2l})}8(1I(s.3w)){2P(s.3w)}}C 42(s,c){8(!1l(c)){c=I}8(1I(s.3v)){42(s.3v,c)}1j(E a=0,l=s.19.R;a<l;a++){E b=s.19[a];b[0].5x(I);8(c){b[0].X(b[1]);8(1o(b[2])){b[2]()}}}8(1I(s.3w)){42(s.3w,c)}}C 5K(a,b,o){8(b){b.2v()}1B(o.1V){Q'1w':Q'3k':Q'1J-1w':Q'21-1w':a.X('1t','');16}}C 48(d,o,b,a,c){8(o[b]){o[b].1g(d,a)}8(c[b].R){1j(E i=0,l=c[b].R;i<l;i++){c[b][i].1g(d,a)}}G[]}C 5L(a,q,c){8(q.R){a.S(H(q[0][0],c),q[0][1]);q.93()}G q}C 5E(b){b.1W(C(){E a=$(1k);a.1m('7D',a.2f(':3t')).4k()})}C 5I(b){8(b){b.1W(C(){E a=$(1k);8(!a.1m('7D')){a.4n()}})}}C 3u(t){8(t.M){94(t.M)}8(t.1e){95(t.1e)}G t}C 5J(a,b,c,d,e,f,g){G{'N':g.N,'1d':g.1d,'D':{'1Z':a,'96':b,'L':c,'6f':c},'1M':{'D':d,'2b':e,'1F':f}}}C 5G(a,o,b,c){E d=a.1F;8(a.1V=='41'){G 0}8(d=='M'){d=o.1M.1F/o.1M.D*b}O 8(d<10){d=c/d}8(d<1){G 0}8(a.1V=='1w'){d=d/2}G 1H.7d(d)}C 4U(o,t,c){E a=(11(o.D.4C))?o.D.4C:o.D.L+1;8(t=='4n'||t=='4k'){E f=t}O 8(a>t){17(c,'2r 6V D ('+t+' P, '+a+' 6W): 97 98.');E f='4k'}O{E f='4n'}E s=(f=='4n')?'2O':'3b',h=2B('3t',c);8(o.M.W){o.M.W[f]()[s](h)}8(o.V.W){o.V.W[f]()[s](h)}8(o.Z.W){o.Z.W[f]()[s](h)}8(o.1a.1z){o.1a.1z[f]()[s](h)}}C 3B(o,f,c){8(o.1T||o.3A)G;E a=(f=='2O'||f=='3b')?f:K,52=2B('99',c);8(o.M.W&&a){o.M.W[a](52)}8(o.V.W){E b=a||(f==0)?'3b':'2O';o.V.W[b](52)}8(o.Z.W){E b=a||(f==o.D.L)?'3b':'2O';o.Z.W[b](52)}}C 3T(a,b){8(1o(b)){b=b.1g(a)}O 8(1E(b)){b={}}G b}C 6v(a,b){b=3T(a,b);8(11(b)){b={'L':b}}O 8(b=='1c'){b={'L':b,'N':b,'1d':b}}O 8(!1I(b)){b={}}G b}C 6w(a,b){b=3T(a,b);8(11(b)){8(b<=50){b={'D':b}}O{b={'1F':b}}}O 8(1p(b)){b={'2l':b}}O 8(!1I(b)){b={}}G b}C 53(a,b){b=3T(a,b);8(1p(b)){E c=6g(b);8(c==-1){b=$(b)}O{b=c}}G b}C 6x(a,b){b=53(a,b);8(2w(b)){b={'W':b}}O 8(1l(b)){b={'1G':b}}O 8(11(b)){b={'2L':b}}8(b.1e){8(1p(b.1e)||2w(b.1e)){b.1e={'2s':b.1e}}}G b}C 6J(a,b){8(1o(b.W)){b.W=b.W.1g(a)}8(1p(b.W)){b.W=$(b.W)}8(!1l(b.1G)){b.1G=I}8(!11(b.62)){b.62=0}8(1E(b.4X)){b.4X=I}8(!1l(b.63)){b.63=I}8(!11(b.2L)){b.2L=(b.1F<10)?9a:b.1F*5}8(b.1e){8(1o(b.1e.2s)){b.1e.2s=b.1e.2s.1g(a)}8(1p(b.1e.2s)){b.1e.2s=$(b.1e.2s)}8(b.1e.2s){8(!1o(b.1e.4B)){b.1e.4B=$.1r.1v.7B}8(!11(b.1e.5z)){b.1e.5z=50}}O{b.1e=K}}G b}C 5c(a,b){b=53(a,b);8(2w(b)){b={'W':b}}O 8(11(b)){b={'31':b}}G b}C 5k(a,b){8(1o(b.W)){b.W=b.W.1g(a)}8(1p(b.W)){b.W=$(b.W)}8(1p(b.31)){b.31=6g(b.31)}G b}C 6y(a,b){b=53(a,b);8(2w(b)){b={'1z':b}}O 8(1l(b)){b={'4Y':b}}G b}C 6K(a,b){8(1o(b.1z)){b.1z=b.1z.1g(a)}8(1p(b.1z)){b.1z=$(b.1z)}8(!11(b.D)){b.D=K}8(!1l(b.4Y)){b.4Y=K}8(!1o(b.3M)&&!54(b.3M)){b.3M=$.1r.1v.7z}8(!11(b.4T)){b.4T=0}G b}C 6z(a,b){8(1o(b)){b=b.1g(a)}8(1E(b)){b={'4i':K}}8(3q(b)){b={'4i':b}}O 8(11(b)){b={'D':b}}G b}C 6L(a,b){8(!1l(b.4i)){b.4i=I}8(!1l(b.5X)){b.5X=K}8(!1I(b.2I)){b.2I={}}8(!1l(b.2I.7E)){b.2I.7E=K}G b}C 6A(a,b){8(1o(b)){b=b.1g(a)}8(3q(b)){b={}}O 8(11(b)){b={'D':b}}O 8(1E(b)){b=K}G b}C 6M(a,b){G b}C 3K(a,b,c,d,e){8(1p(a)){a=$(a,e)}8(1I(a)){a=$(a,e)}8(2w(a)){a=e.14().7f(a);8(!1l(c)){c=K}}O{8(!1l(c)){c=I}}8(!11(a)){a=0}8(!11(b)){b=0}8(c){a+=d.Y}a+=b;8(d.P>0){2i(a>=d.P){a-=d.P}2i(a<0){a+=d.P}}G a}C 4E(i,o,s){E t=0,x=0;1j(E a=s;a>=0;a--){E j=i.1O(a);t+=(j.2f(':L'))?j[o.d['2y']](I):0;8(t>o.3V){G x}8(a==0){a=i.R}x++}}C 7h(i,o,s){G 6h(i,o.D.1t,o.D.T.4v,s)}C 6Z(i,o,s,m){G 6h(i,o.D.1t,m,s)}C 6h(i,f,m,s){E t=0,x=0;1j(E a=s,l=i.R;a>=0;a--){x++;8(x==l){G x}E j=i.1O(a);8(j.2f(f)){t++;8(t==m){G x}}8(a==0){a=l}}}C 5C(a,o){G o.D.T.4v||a.14().18(0,o.D.L).1t(o.D.1t).R}C 35(i,o,s){E t=0,x=0;1j(E a=s,l=i.R-1;a<=l;a++){E j=i.1O(a);t+=(j.2f(':L'))?j[o.d['2y']](I):0;8(t>o.3V){G x}x++;8(x==l+1){G x}8(a==l){a=-1}}}C 5N(i,o,s,l){E v=35(i,o,s);8(!o.1T){8(s+v>l){v=l-s}}G v}C 3X(i,o,s){G 6i(i,o.D.1t,o.D.T.4v,s,o.1T)}C 75(i,o,s,m){G 6i(i,o.D.1t,m+1,s,o.1T)-1}C 6i(i,f,m,s,c){E t=0,x=0;1j(E a=s,l=i.R-1;a<=l;a++){x++;8(x>=l){G x}E j=i.1O(a);8(j.2f(f)){t++;8(t==m){G x}}8(a==l){a=-1}}}C 3J(i,o){G i.18(0,o.D.L)}C 71(i,o,n){G i.18(n,o.D.T.1Z+n)}C 72(i,o){G i.18(0,o.D.L)}C 77(i,o){G i.18(0,o.D.T.1Z)}C 78(i,o,n){G i.18(n,o.D.L+n)}C 4z(i,o,d){8(o.1R){8(!1p(d)){d='29'}i.1W(C(){E j=$(1k),m=4l(j.X(o.d['1S']),10);8(!11(m)){m=0}j.1m(d,m)})}}C 1U(i,o,m){8(o.1R){E x=(1l(m))?m:K;8(!11(m)){m=0}4z(i,o,'7F');i.1W(C(){E j=$(1k);j.X(o.d['1S'],((x)?j.1m('7F'):m+j.1m('29')))})}}C 5u(i,o){8(o.2o){i.1W(C(){E j=$(1k),s=5q(j,['N','1d']);j.1m('7i',s)})}}C 5v(o,b){E c=o.D.L,7G=o.D[o.d['N']],6j=o[o.d['1d']],7H=3W(6j);b.1W(C(){E a=$(1k),6k=7G-7I(a,o,'9b');a[o.d['N']](6k);8(7H){a[o.d['1d']](4u(6k,6j))}})}C 4R(a,o){E b=a.6b(),$i=a.14(),$v=3J($i,o),55=4J(4K($v,o,I),o,K);b.X(55);8(o.1R){E p=o.1i,r=p[o.d[1]];8(o.1A&&r<0){r=0}E c=$v.2R();c.X(o.d['1S'],c.1m('29')+r);a.X(o.d['3r'],p[o.d[0]]);a.X(o.d['1n'],p[o.d[3]])}a.X(o.d['N'],55[o.d['N']]+(2T($i,o,'N')*2));a.X(o.d['1d'],6l($i,o,'1d'));G 55}C 4K(i,o,a){G[2T(i,o,'N',a),6l(i,o,'1d',a)]}C 6l(i,o,a,b){8(!1l(b)){b=K}8(11(o[o.d[a]])&&b){G o[o.d[a]]}8(11(o.D[o.d[a]])){G o.D[o.d[a]]}a=(a.6m().3S('N')>-1)?'2y':'3o';G 4o(i,o,a)}C 4o(i,o,b){E s=0;1j(E a=0,l=i.R;a<l;a++){E j=i.1O(a);E m=(j.2f(':L'))?j[o.d[b]](I):0;8(s<m){s=m}}G s}C 2T(i,o,b,c){8(!1l(c)){c=K}8(11(o[o.d[b]])&&c){G o[o.d[b]]}8(11(o.D[o.d[b]])){G o.D[o.d[b]]*i.R}E d=(b.6m().3S('N')>-1)?'2y':'3o',s=0;1j(E a=0,l=i.R;a<l;a++){E j=i.1O(a);s+=(j.2f(':L'))?j[o.d[d]](I):0}G s}C 5e(a,o,d){E b=a.2f(':L');8(b){a.4k()}E s=a.6b()[o.d[d]]();8(b){a.4n()}G s}C 5f(o,a){G(11(o[o.d['N']]))?o[o.d['N']]:a}C 6n(i,o,b){E s=K,v=K;1j(E a=0,l=i.R;a<l;a++){E j=i.1O(a);E c=(j.2f(':L'))?j[o.d[b]](I):0;8(s===K){s=c}O 8(s!=c){v=I}8(s==0){v=I}}G v}C 7I(i,o,d){G i[o.d['9c'+d]](I)-i[o.d[d.6m()]]()}C 4u(s,o){8(3W(o)){o=4l(o.18(0,-1),10);8(!11(o)){G s}s*=o/2J}G s}C H(n,c,a,b,d){8(!1l(a)){a=I}8(!1l(b)){b=I}8(!1l(d)){d=K}8(a){n=c.3z.44+n}8(b){n=n+'.'+c.3z.7y}8(b&&d){n+=c.3U}G n}C 2B(n,c){G(1p(c.6d[n]))?c.6d[n]:n}C 4J(a,o,p){8(!1l(p)){p=I}E b=(o.1R&&p)?o.1i:[0,0,0,0];E c={};c[o.d['N']]=a[0]+b[1]+b[3];c[o.d['1d']]=a[1]+b[0]+b[2];G c}C 3f(c,d){E e=[];1j(E a=0,7J=c.R;a<7J;a++){1j(E b=0,7K=d.R;b<7K;b++){8(d[b].3S(2Z c[a])>-1&&1E(e[b])){e[b]=c[a];16}}}G e}C 6H(p){8(1E(p)){G[0,0,0,0]}8(11(p)){G[p,p,p,p]}8(1p(p)){p=p.3R('9d').7L('').3R('9e').7L('').3R(' ')}8(!2X(p)){G[0,0,0,0]}1j(E i=0;i<4;i++){p[i]=4l(p[i],10)}1B(p.R){Q 0:G[0,0,0,0];Q 1:G[p[0],p[0],p[0],p[0]];Q 2:G[p[0],p[1],p[0],p[1]];Q 3:G[p[0],p[1],p[2],p[1]];2A:G[p[0],p[1],p[2],p[3]]}}C 4I(a,o){E x=(11(o[o.d['N']]))?1H.2C(o[o.d['N']]-2T(a,o,'N')):0;1B(o.1A){Q'1n':G[0,x];Q'3a':G[x,0];Q'5g':2A:G[1H.2C(x/2),1H.4m(x/2)]}}C 6B(o){E a=[['N','7M','2y','1d','7N','3o','1n','3r','1S',0,1,2,3],['1d','7N','3o','N','7M','2y','3r','1n','5r',3,2,1,0]];E b=a[0].R,7O=(o.2b=='3a'||o.2b=='1n')?0:1;E c={};1j(E d=0;d<b;d++){c[a[0][d]]=a[7O][d]}G c}C 4F(x,o,a,b){E v=x;8(1o(a)){v=a.1g(b,v)}O 8(1p(a)){E p=a.3R('+'),m=a.3R('-');8(m.R>p.R){E c=I,6o=m[0],32=m[1]}O{E c=K,6o=p[0],32=p[1]}1B(6o){Q'9f':v=(x%2==1)?x-1:x;16;Q'9g':v=(x%2==0)?x-1:x;16;2A:v=x;16}32=4l(32,10);8(11(32)){8(c){32=-32}v+=32}}8(!11(v)||v<1){v=1}G v}C 2z(x,o,a,b){G 6p(4F(x,o,a,b),o.D.T)}C 6p(v,i){8(11(i.36)&&v<i.36){v=i.36}8(11(i.1X)&&v>i.1X){v=i.1X}8(v<1){v=1}G v}C 5l(s){8(!2X(s)){s=[[s]]}8(!2X(s[0])){s=[s]}1j(E j=0,l=s.R;j<l;j++){8(1p(s[j][0])){s[j][0]=$(s[j][0])}8(!1l(s[j][1])){s[j][1]=I}8(!1l(s[j][2])){s[j][2]=I}8(!11(s[j][3])){s[j][3]=0}}G s}C 6g(k){8(k=='3a'){G 39}8(k=='1n'){G 37}8(k=='4s'){G 38}8(k=='5W'){G 40}G-1}C 5M(n,a,c){8(n){E v=a.1Q(H('4q',c));$.1r.1v.23.6e(n,v)}}C 7u(n){E c=$.1r.1v.23.3G(n);G(c=='')?0:c}C 5q(a,b){E c={},56;1j(E p=0,l=b.R;p<l;p++){56=b[p];c[56]=a.X(56)}G c}C 6C(a,b,c,d){8(!1I(a.T)){a.T={}}8(!1I(a.3O)){a.3O={}}8(a.3n==0&&11(d)){a.3n=d}8(1I(a.L)){a.T.36=a.L.36;a.T.1X=a.L.1X;a.L=K}O 8(1p(a.L)){8(a.L=='1c'){a.T.1c=I}O{a.T.2c=a.L}a.L=K}O 8(1o(a.L)){a.T.2c=a.L;a.L=K}8(!1p(a.1t)){a.1t=(c.1t(':3t').R>0)?':L':'*'}8(!a[b.d['N']]){8(b.2o){17(I,'7P a '+b.d['N']+' 1j 3L D!');a[b.d['N']]=4o(c,b,'2y')}O{a[b.d['N']]=(6n(c,b,'2y'))?'1c':c[b.d['2y']](I)}}8(!a[b.d['1d']]){a[b.d['1d']]=(6n(c,b,'3o'))?'1c':c[b.d['3o']](I)}a.3O.N=a.N;a.3O.1d=a.1d;G a}C 6G(a,b){8(a.D[a.d['N']]=='1c'){a.D.T.1c=I}8(!a.D.T.1c){8(11(a[a.d['N']])){a.D.L=1H.4m(a[a.d['N']]/a.D[a.d['N']])}O{a.D.L=1H.4m(b/a.D[a.d['N']]);a[a.d['N']]=a.D.L*a.D[a.d['N']];8(!a.D.T.2c){a.1A=K}}8(a.D.L=='9h'||a.D.L<1){17(I,'2r a 5P 27 4e L D: 7P 45 \"1c\".');a.D.T.1c=I}}G a}C 6D(a,b,c){8(a=='M'){a=4o(c,b,'2y')}G a}C 6E(a,b,c){8(a=='M'){a=4o(c,b,'3o')}8(!a){a=b.D[b.d['1d']]}G a}C 5j(o,a){E p=4I(3J(a,o),o);o.1i[o.d[1]]=p[1];o.1i[o.d[3]]=p[0];G o}C 5h(o,a,b){E c=6p(1H.2C(o[o.d['N']]/o.D[o.d['N']]),o.D.T);8(c>a.R){c=a.R}E d=1H.4m(o[o.d['N']]/c);o.D.L=c;o.D[o.d['N']]=d;o[o.d['N']]=c*d;G o}C 3P(p){8(1p(p)){E i=(p.3S('9i')>-1)?I:K,r=(p.3S('3h')>-1)?I:K}O{E i=r=K}G[i,r]}C 61(a){G(11(a))?a:2x}C 6q(a){G(a===2x)}C 1E(a){G(6q(a)||2Z a=='7Q'||a===''||a==='7Q')}C 2X(a){G(a 2Y 9j)}C 2w(a){G(a 2Y 7R)}C 1I(a){G((a 2Y 9k||2Z a=='2g')&&!6q(a)&&!2w(a)&&!2X(a))}C 11(a){G((a 2Y 4d||2Z a=='27')&&!9l(a))}C 1p(a){G((a 2Y 9m||2Z a=='2N')&&!1E(a)&&!3q(a)&&!54(a))}C 1o(a){G(a 2Y 9n||2Z a=='C')}C 1l(a){G(a 2Y 9o||2Z a=='3e'||3q(a)||54(a))}C 3q(a){G(a===I||a==='I')}C 54(a){G(a===K||a==='K')}C 3W(x){G(1p(x)&&x.18(-1)=='%')}C 2q(){G 6f 7C().2q()}C 2K(o,n){17(I,o+' 2f 9p, 9q 1j 9r 9s 9t 9u. 9v '+n+' 9w.')}C 17(d,m){8(1I(d)){E s=' ('+d.4p+')';d=d.17}O{E s=''}8(!d){G K}8(1p(m)){m='1v'+s+': '+m}O{m=['1v'+s+':',m]}8(3m.6r&&3m.6r.7S){3m.6r.7S(m)}G K}$.1N($.2l,{'9x':C(t){E a=t*t;G t*(-a*t+4*a-6*t+4)},'9y':C(t){G t*(4*t*t-9*t+6)},'9z':C(t){E a=t*t;G t*(33*a*a-9A*a*t+9B*a-67*t+15)}})})(7R);",62,596,"|||||||opts|if||||||||||||||||||||||||||||||function|items|var|conf|return|cf_e|true|itms|false|visible|auto|width|else|total|case|length|trigger|visibleConf|scrl|prev|button|css|first|next||is_number|bind|tt0|children||break|debug|slice|anims|pagination|push|variable|height|progress|stopPropagation|call|mousewheel|padding|for|this|is_boolean|data|left|is_function|is_string|swipe|fn|wrp|filter|tmrs|carouFredSel|fade|_onafter|_moveitems|container|align|switch|_s_paddingold|_s_paddingcur|is_undefined|duration|play|Math|is_object|cover|_position|opacity|scroll|extend|eq|_a_wrapper|triggerHandler|usePadding|marginRight|circular|sz_resetMargin|fx|each|max|i_cur_l|old|i_old_l|uncover|unbind|cookie||isScrolling|isPaused|number|a_cfs|_cfs_origCssMargin|clbk|direction|adjust|isStopped|stopImmediatePropagation|is|object|queu|while|i_new|w_siz|easing|nr|avail_primary|responsive|synchronise|getTime|Not|bar|i_new_l|a_cur|remove|is_jquery|null|outerWidth|cf_getItemsAdjust|default|cf_c|ceil|pR|_s_paddingnew|preventDefault|a_itm|pauseOnHover|options|100|deprecated|timeoutDuration|startTime|string|removeClass|sc_startScroll|queue|last|i_skp|ms_getTotalSize|a_old|a_lef|a_dur|is_array|instanceof|typeof||key|adj||opts_orig|gn_getVisibleItemsNext|min||||right|addClass|pause|perc|boolean|cf_sortParams|scrolling|resume|onAfter|i_old|crossfade|slideTo|window|start|outerHeight|_cfs_triggerEvent|is_true|top|position|hidden|sc_clearTimers|pre|post|timePassed|Carousel|events|infinite|nv_enableNavi|i_siz|i_siz_vis|_a_paddingold|_a_paddingcur|get|onBefore|updatePageStatus|gi_getCurrentItems|gn_getItemIndex|the|anchorBuilder|event|sizesConf|bt_pauseOnHoverConfig|ns2|split|indexOf|go_getObject|serialNumber|maxDimension|is_percentage|gn_getVisibleItemsNextFilter|orgCSS|zIndex||none|sc_stopScroll|dur2|prefix|to|appendTo|sc_setScroll|sc_fireCallbacks||currentPage|end|before|Number|of|document|touchwipe|wN|onTouch|onResize|hide|parseInt|floor|show|ms_getTrueLargestSize|selector|currentPosition|destroy|up|primarySizePercentage|ms_getPercentage|org|onTimeoutStart|onTimeoutPause|onTimeoutEnd|sz_storeMargin|stopped|updater|minimum|configuration|gn_getVisibleItemsPrev|cf_getAdjust|onEnd|clone|cf_getAlignPadding|cf_mapWrapperSizes|ms_getSizes|a_wsz|a_new|not|a_cfs_vis|updateSizes|eval|sz_setSizes|pgs|deviation|nv_showNavi|mouseenter|mouseleave|pauseOnEvent|keys|wipe||throttle|di|go_getNaviObject|is_false|sz|prop|element||starting_position|_cfs_isCarousel|_cfs_init|go_getPrevNextObject|defaults|ms_getParentSize|ms_getMaxDimension|center|in_getResponsiveValues|bottom|in_getAlignPadding|go_complementPrevNextObject|cf_getSynchArr|onPauseStart|onPausePause|onPauseEnd|pauseDuration|in_mapCss|marginBottom|newPosition|_cfs_origCss|sz_storeSizes|sz_setResponsiveSizes|_cfs_unbind_events|stop|finish|interval|type|conditions|gn_getVisibleOrg|backward|sc_hideHiddenItems|a_lef_vis|sc_getDuration|_a_paddingnew|sc_showHiddenItems|sc_mapCallbackArguments|sc_afterScroll|sc_fireQueue|cf_setCookie|gn_getVisibleItemsNextTestCircular|slideToPage|valid|linkAnchors|value|_cfs_bind_buttons|click|_cfs_unbind_buttons|scrolled|down|onMouse|swP|swN||bt_mousesheelNumber|delay|pauseOnResize|debounce|onWindowResize|_windowHeight||nh|ns3|wrapper|parent|continue|classnames|set|new|cf_getKeyCode|gn_getItemsPrevFilter|gn_getItemsNextFilter|seco|nw|ms_getLargestSize|toLowerCase|ms_hasVariableSizes|sta|cf_getItemAdjustMinMax|is_null|console|caroufredsel|No|found|go_getItemsObject|go_getScrollObject|go_getAutoObject|go_getPaginationObject|go_getSwipeObject|go_getMousewheelObject|cf_getDimensions|in_complementItems|in_complementPrimarySize|in_complementSecondarySize|upDateOnWindowResize|in_complementVisibleItems|cf_getPadding|500|go_complementAutoObject|go_complementPaginationObject|go_complementSwipeObject|go_complementMousewheelObject|_cfs_build|textAlign|float|marginTop|marginLeft|absolute|_cfs_bind_events|paused|enough|needed|page|slide_|gn_getScrollItemsPrevFilter|Scrolling|gi_getOldItemsPrev|gi_getNewItemsPrev|directscroll|concat|gn_getScrollItemsNextFilter|forward|gi_getOldItemsNext|gi_getNewItemsNext|jumpToStart|after|append|removeItem|round|hash|index|selected|gn_getVisibleItemsPrevFilter|_cfs_origCssSizes|Item|keyup|keyCode|plugin|scN|cursor|The|option|mcN|configs|classname|cf_getCookie|random|itm|onCreate|namespace|pageAnchorBuilder|span|progressbarUpdater|Date|_cfs_isHidden|triggerOnTouchEnd|_cfs_tempCssMargin|newS|secp|ms_getPaddingBorderMargin|l1|l2|join|innerWidth|innerHeight|dx|Set|undefined|jQuery|log|caroufredsel_cookie_|relative|fixed|overflow|setInterval|setTimeout|or|Callback|returned|Page|resumed|currently|slide_prev|prependTo|slide_next|prevPage|nextPage|prepend|carousel|insertItem|Correct|insert|Appending|item|add|detach|currentVisible|body|find|Preventing|non|sliding|replaceWith|widths|heights|automatically|touchSwipe|min_move_x|min_move_y|preventDefaultEvents|wipeUp|wipeDown|wipeLeft|wipeRight|ontouchstart|in|swipeUp|swipeDown|swipeLeft|swipeRight|move|200|300|resize|wrap|class|unshift|location|swing|cfs|div|caroufredsel_wrapper|href|charAt|setTime|1000|expires|toGMTString|path|orgDuration|animate|complete|shift|clearTimeout|clearInterval|skipped|Hiding|navigation|disabled|2500|Width|outer|px|em|even|odd|Infinity|immediate|Array|Object|isNaN|String|Function|Boolean|DEPRECATED|support|it|will|be|removed|Use|instead|quadratic|cubic|elastic|106|126".split("|"),0,{}));;
$(document).ready(function(){$(".sm-icon-item, .site-map-list-items.sm-icon-item").click(function(){var e=$(this).data("target");$("hover-block").removeClass("active"),$(this).find("hover-block").addClass("active");var t=e.split("#");e=t.length>1?"[id$="+t[1]+"]":"#"+e;var i=$(e).offset().top;$("html, body").animate({scrollTop:i-($("#header").height()+$(".selection-bar").height())}),$(this).parent().find("li").removeClass("active"),$(this).addClass("active"),$(".gototop").show()}),$(".gototop").click(function(){$("html, body").animate({scrollTop:0}),$(".gototop").hide()})});;
;
;
"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,i,o){var n={init:function(t,i){var o=this;o.elem=i,o.$elem=e(i),o.imageSrc=o.$elem.data("zoom-image")?o.$elem.data("zoom-image"):o.$elem.attr("src"),o.options=e.extend({},e.fn.elevateZoom.options,t),o.options.tint&&(o.options.lensColour="none",o.options.lensOpacity="1"),"inner"==o.options.zoomType&&(o.options.showLens=!1),o.$elem.parent().removeAttr("title").removeAttr("alt"),o.zoomImage=o.imageSrc,o.refresh(1),e("#"+o.options.gallery+" a").click(function(t){return o.options.galleryActiveClass&&(e("#"+o.options.gallery+" a").removeClass(o.options.galleryActiveClass),e(this).addClass(o.options.galleryActiveClass)),t.preventDefault(),e(this).data("zoom-image")?o.zoomImagePre=e(this).data("zoom-image"):o.zoomImagePre=e(this).data("image"),o.swaptheimage(e(this).data("image"),o.zoomImagePre),!1})},refresh:function(e){var t=this;setTimeout(function(){t.fetch(t.imageSrc)},e||t.options.refresh)},fetch:function(e){var t=this,i=new Image;i.onload=function(){t.largeWidth=i.width,t.largeHeight=i.height,t.startZoom(),t.currentImage=t.imageSrc,t.options.onZoomedImageLoaded(t.$elem)},i.src=e},startZoom:function(){var t=this;if(t.nzWidth=t.$elem.width(),t.nzHeight=t.$elem.height(),t.isWindowActive=!1,t.isLensActive=!1,t.isTintActive=!1,t.overWindow=!1,t.options.imageCrossfade&&(t.zoomWrap=t.$elem.wrap('<div style="height:'+t.nzHeight+"px;width:"+t.nzWidth+'px;" class="zoomWrapper" />'),t.$elem.css("position","absolute")),t.zoomLock=1,t.scrollingLock=!1,t.changeBgSize=!1,t.currentZoomLevel=t.options.zoomLevel,t.nzOffset=t.$elem.offset(),t.widthRatio=t.largeWidth/t.currentZoomLevel/t.nzWidth,t.heightRatio=t.largeHeight/t.currentZoomLevel/t.nzHeight,"window"==t.options.zoomType&&(t.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(t.options.zoomWindowBgColour)+";width: "+String(t.options.zoomWindowWidth)+"px;height: "+String(t.options.zoomWindowHeight)+"px;float: left;background-size: "+t.largeWidth/t.currentZoomLevel+"px "+t.largeHeight/t.currentZoomLevel+"px;display: none;z-index:100;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==t.options.zoomType){var i=t.$elem.css("border-left-width");t.zoomWindowStyle="overflow: hidden;margin-left: "+String(i)+";margin-top: "+String(i)+";background-position: 0px 0px;width: "+String(t.nzWidth)+"px;height: "+String(t.nzHeight)+"px;float: left;display: none;cursor:"+t.options.cursor+";px solid "+t.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==t.options.zoomType&&(lensHeight=t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.nzHeight:String(t.options.zoomWindowHeight/t.heightRatio),lensWidth=t.largeWidth<t.options.zoomWindowWidth?t.nzWidth:t.options.zoomWindowWidth/t.widthRatio,t.lensStyle="background-position: 0px 0px;width: "+String(t.options.zoomWindowWidth/t.widthRatio)+"px;height: "+String(t.options.zoomWindowHeight/t.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+t.options.lensOpacity+";filter: alpha(opacity = "+100*t.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+t.options.lensColour+";cursor:"+t.options.cursor+";border: "+t.options.lensBorderSize+"px solid "+t.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),t.tintStyle="display: block;position: absolute;background-color: "+t.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+t.nzWidth+"px;height: "+t.nzHeight+"px;",t.lensRound="","lens"==t.options.zoomType&&(t.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";width:"+String(t.options.lensSize)+"px;height:"+String(t.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==t.options.lensShape&&(t.lensRound="border-top-left-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-top-right-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-bottom-left-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-bottom-right-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;"),t.zoomContainer=e('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+t.nzOffset.left+"px;top:"+t.nzOffset.top+"px;height:"+t.nzHeight+"px;width:"+t.nzWidth+'px;"></div>'),e("body").append(t.zoomContainer),t.options.containLensZoom&&"lens"==t.options.zoomType&&t.zoomContainer.css("overflow","hidden"),"inner"!=t.options.zoomType&&(t.zoomLens=e("<div class='zoomLens' style='"+t.lensStyle+t.lensRound+"'>&nbsp;</div>").appendTo(t.zoomContainer).click(function(){t.$elem.trigger("click")}),t.options.tint&&(t.tintContainer=e("<div/>").addClass("tintContainer"),t.zoomTint=e("<div class='zoomTint' style='"+t.tintStyle+"'></div>"),t.zoomLens.wrap(t.tintContainer),t.zoomTintcss=t.zoomLens.after(t.zoomTint),t.zoomTintImage=e('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+t.nzWidth+"px; height: "+t.nzHeight+'px;" src="'+t.imageSrc+'">').appendTo(t.zoomLens).click(function(){t.$elem.trigger("click")}))),isNaN(t.options.zoomWindowPosition)?t.zoomWindow=e("<div style='z-index:999;left:"+t.windowOffsetLeft+"px;top:"+t.windowOffsetTop+"px;"+t.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){t.$elem.trigger("click")}):t.zoomWindow=e("<div style='z-index:999;left:"+t.windowOffsetLeft+"px;top:"+t.windowOffsetTop+"px;"+t.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(t.zoomContainer).click(function(){t.$elem.trigger("click")}),t.zoomWindowContainer=e("<div/>").addClass("zoomWindowContainer").css("width",t.options.zoomWindowWidth),t.zoomWindow.wrap(t.zoomWindowContainer),"lens"==t.options.zoomType&&t.zoomLens.css({backgroundImage:"url('"+t.imageSrc+"')"}),"window"==t.options.zoomType&&t.zoomWindow.css({backgroundImage:"url('"+t.imageSrc+"')"}),"inner"==t.options.zoomType&&t.zoomWindow.css({backgroundImage:"url('"+t.imageSrc+"')"}),t.$elem.bind("touchmove",function(e){e.preventDefault(),t.setPosition(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])}),t.zoomContainer.bind("touchmove",function(e){"inner"==t.options.zoomType&&t.showHideWindow("show"),e.preventDefault(),t.setPosition(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])}),t.zoomContainer.bind("touchend",function(e){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")}),t.$elem.bind("touchend",function(e){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")}),t.options.showLens&&(t.zoomLens.bind("touchmove",function(e){e.preventDefault(),t.setPosition(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])}),t.zoomLens.bind("touchend",function(e){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")})),t.$elem.bind("mousemove",function(e){0==t.overWindow&&t.setElements("show"),t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),t.zoomContainer.bind("mousemove",function(e){0==t.overWindow&&t.setElements("show"),t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),"inner"!=t.options.zoomType&&t.zoomLens.bind("mousemove",function(e){t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),t.options.tint&&"inner"!=t.options.zoomType&&t.zoomTint.bind("mousemove",function(e){t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),"inner"==t.options.zoomType&&t.zoomWindow.bind("mousemove",function(e){t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),t.zoomContainer.add(t.$elem).mouseenter(function(){0==t.overWindow&&t.setElements("show")}).mouseleave(function(){t.scrollLock||t.setElements("hide")}),"inner"!=t.options.zoomType&&t.zoomWindow.mouseenter(function(){t.overWindow=!0,t.setElements("hide")}).mouseleave(function(){t.overWindow=!1}),t.minZoomLevel=t.options.minZoomLevel?t.options.minZoomLevel:2*t.options.scrollZoomIncrement,t.options.scrollZoom&&t.zoomContainer.add(t.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(i){t.scrollLock=!0,clearTimeout(e.data(this,"timer")),e.data(this,"timer",setTimeout(function(){t.scrollLock=!1},250));var o=i.originalEvent.wheelDelta||-1*i.originalEvent.detail;return i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault(),o/120>0?t.currentZoomLevel>=t.minZoomLevel&&t.changeZoomLevel(t.currentZoomLevel-t.options.scrollZoomIncrement):t.options.maxZoomLevel?t.currentZoomLevel<=t.options.maxZoomLevel&&t.changeZoomLevel(parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement):t.changeZoomLevel(parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement),!1})},setElements:function(e){return this.options.zoomEnabled?("show"==e&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!=this.options.zoomType&&this.showHideTint("show")),void("hide"==e&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide")))):!1},setPosition:function(e){return this.options.zoomEnabled?(this.nzHeight=this.$elem.height(),this.nzWidth=this.$elem.width(),this.nzOffset=this.$elem.offset(),this.options.tint&&"inner"!=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0})),this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.largeWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!=this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"})),this.zoomContainer.css({top:this.nzOffset.top}),this.zoomContainer.css({left:this.nzOffset.left}),this.mouseLeft=parseInt(e.pageX-this.nzOffset.left),this.mouseTop=parseInt(e.pageY-this.nzOffset.top),"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize),"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize),void(0>=this.mouseLeft||0>this.mouseTop||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(this.mouseLeft-this.zoomLens.width()/2),this.lensTopPos=String(this.mouseTop-this.zoomLens.height()/2)),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.tintpos=this.lensLeftPos=this.windowLeftPos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((e.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((e.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(e)),this.options.tint&&"inner"!=this.options.zoomType&&this.setTintPosition(e),"window"==this.options.zoomType&&this.setWindowPostition(e),"inner"==this.options.zoomType&&this.setWindowPostition(e),this.options.showLens&&(this.fullwidth&&"lens"!=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"}))))):!1},showHideWindow:function(e){"show"!=e||this.isWindowActive||(this.options.zoomWindowFadeIn?this.zoomWindow.stop(!0,!0,!1).fadeIn(this.options.zoomWindowFadeIn):this.zoomWindow.show(),this.isWindowActive=!0),"hide"==e&&this.isWindowActive&&(this.options.zoomWindowFadeOut?this.zoomWindow.stop(!0,!0).fadeOut(this.options.zoomWindowFadeOut):this.zoomWindow.hide(),this.isWindowActive=!1)},showHideLens:function(e){"show"!=e||this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0),"hide"==e&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1)},showHideTint:function(e){"show"!=e||this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0),"hide"==e&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1)},setLensPostition:function(e){},setWindowPostition:function(t){var i=this;if(isNaN(i.options.zoomWindowPosition))i.externalContainer=e("#"+i.options.zoomWindowPosition),i.externalContainerWidth=i.externalContainer.width(),i.externalContainerHeight=i.externalContainer.height(),i.externalContainerOffset=i.externalContainer.offset(),i.windowOffsetTop=i.externalContainerOffset.top,i.windowOffsetLeft=i.externalContainerOffset.left;else switch(i.options.zoomWindowPosition){case 1:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=+i.nzWidth;break;case 2:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.options.zoomWindowHeight/2-i.nzHeight/2),i.windowOffsetLeft=i.nzWidth);break;case 3:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=i.nzWidth;break;case 4:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth;break;case 5:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 6:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=-1*(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize));break;case 7:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=0;break;case 8:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 9:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 10:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.options.zoomWindowHeight/2-i.nzHeight/2),i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize));break;case 11:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 12:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 13:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=0;break;case 14:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=-1*(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize));break;case 15:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 16:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=i.nzWidth;break;default:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=i.nzWidth}i.isWindowSet=!0,i.windowOffsetTop+=i.options.zoomWindowOffety,i.windowOffsetLeft+=i.options.zoomWindowOffetx,i.zoomWindow.css({top:i.windowOffsetTop}),i.zoomWindow.css({left:i.windowOffsetLeft}),"inner"==i.options.zoomType&&(i.zoomWindow.css({top:0}),i.zoomWindow.css({left:0})),i.windowLeftPos=String(-1*((t.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2)),i.windowTopPos=String(-1*((t.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2)),i.Etoppos&&(i.windowTopPos=0),i.Eloppos&&(i.windowLeftPos=0),i.Eboppos&&(i.windowTopPos=-1*(i.largeHeight/i.currentZoomLevel-i.zoomWindow.height())),i.Eroppos&&(i.windowLeftPos=-1*(i.largeWidth/i.currentZoomLevel-i.zoomWindow.width())),i.fullheight&&(i.windowTopPos=0),i.fullwidth&&(i.windowLeftPos=0),"window"!=i.options.zoomType&&"inner"!=i.options.zoomType||(1==i.zoomLock&&(1>=i.widthRatio&&(i.windowLeftPos=0),1>=i.heightRatio&&(i.windowTopPos=0)),i.largeHeight<i.options.zoomWindowHeight&&(i.windowTopPos=0),i.largeWidth<i.options.zoomWindowWidth&&(i.windowLeftPos=0),i.options.easing?(i.xp||(i.xp=0),i.yp||(i.yp=0),i.loop||(i.loop=setInterval(function(){i.xp+=(i.windowLeftPos-i.xp)/i.options.easingAmount,i.yp+=(i.windowTopPos-i.yp)/i.options.easingAmount,i.scrollingLock?(clearInterval(i.loop),i.xp=i.windowLeftPos,i.yp=i.windowTopPos,i.xp=-1*((t.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2),i.yp=-1*((t.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2),i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"!=i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.windowLeftPos+"px "+i.windowTopPos+"px"}),i.scrollingLock=!1,i.loop=!1):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"!=i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.xp+"px "+i.yp+"px"}))},16))):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.largeHeight/i.newvaluewidth<i.options.zoomWindowHeight?i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}):i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.windowLeftPos+"px "+i.windowTopPos+"px"})))},setTintPosition:function(e){this.nzOffset=this.$elem.offset(),this.tintpos=String(-1*(e.pageX-this.nzOffset.left-this.zoomLens.width()/2)),this.tintposy=String(-1*(e.pageY-this.nzOffset.top-this.zoomLens.height()/2)),this.Etoppos&&(this.tintposy=0),this.Eloppos&&(this.tintpos=0),this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize)),this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}))},swaptheimage:function(t,i){var o=this,n=new Image;o.options.loadingIcon&&(o.spinner=e("<div style=\"background: url('"+o.options.loadingIcon+"') no-repeat center;height:"+o.nzHeight+"px;width:"+o.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),o.$elem.after(o.spinner)),o.options.onImageSwap(o.$elem),n.onload=function(){o.largeWidth=n.width,o.largeHeight=n.height,o.zoomImage=i,o.zoomWindow.css({"background-size":o.largeWidth+"px "+o.largeHeight+"px"}),o.zoomWindow.css({"background-size":o.largeWidth+"px "+o.largeHeight+"px"}),o.swapAction(t,i)},n.src=i},swapAction:function(t,i){var o=this,n=new Image;if(n.onload=function(){o.nzHeight=n.height,o.nzWidth=n.width,o.options.onImageSwapComplete(o.$elem),o.doneCallback()},n.src=t,o.currentZoomLevel=o.options.zoomLevel,o.options.maxZoomLevel=!1,"lens"==o.options.zoomType&&o.zoomLens.css({backgroundImage:"url('"+i+"')"}),"window"==o.options.zoomType&&o.zoomWindow.css({backgroundImage:"url('"+i+"')"}),"inner"==o.options.zoomType&&o.zoomWindow.css({backgroundImage:"url('"+i+"')"}),o.currentImage=i,o.options.imageCrossfade){var s=o.$elem,a=s.clone();o.$elem.attr("src",t),o.$elem.after(a),a.stop(!0).fadeOut(o.options.imageCrossfade,function(){e(this).remove()}),o.$elem.width("auto").removeAttr("width"),o.$elem.height("auto").removeAttr("height"),s.fadeIn(o.options.imageCrossfade),o.options.tint&&"inner"!=o.options.zoomType&&(s=o.zoomTintImage,a=s.clone(),o.zoomTintImage.attr("src",i),o.zoomTintImage.after(a),a.stop(!0).fadeOut(o.options.imageCrossfade,function(){e(this).remove()}),s.fadeIn(o.options.imageCrossfade),o.zoomTint.css({height:o.$elem.height()}),o.zoomTint.css({width:o.$elem.width()})),o.zoomContainer.css("height",o.$elem.height()),o.zoomContainer.css("width",o.$elem.width()),"inner"!=o.options.zoomType||o.options.constrainType||(o.zoomWrap.parent().css("height",o.$elem.height()),o.zoomWrap.parent().css("width",o.$elem.width()),o.zoomWindow.css("height",o.$elem.height()),o.zoomWindow.css("width",o.$elem.width()))}else o.$elem.attr("src",t),o.options.tint&&(o.zoomTintImage.attr("src",i),o.zoomTintImage.attr("height",o.$elem.height()),o.zoomTintImage.css({height:o.$elem.height()}),o.zoomTint.css({height:o.$elem.height()})),o.zoomContainer.css("height",o.$elem.height()),o.zoomContainer.css("width",o.$elem.width());o.options.imageCrossfade&&(o.zoomWrap.css("height",o.$elem.height()),o.zoomWrap.css("width",o.$elem.width())),o.options.constrainType&&("height"==o.options.constrainType&&(o.zoomContainer.css("height",o.options.constrainSize),o.zoomContainer.css("width","auto"),o.options.imageCrossfade?(o.zoomWrap.css("height",o.options.constrainSize),o.zoomWrap.css("width","auto"),o.constwidth=o.zoomWrap.width()):(o.$elem.css("height",o.options.constrainSize),o.$elem.css("width","auto"),o.constwidth=o.$elem.width()),"inner"==o.options.zoomType&&(o.zoomWrap.parent().css("height",o.options.constrainSize),o.zoomWrap.parent().css("width",o.constwidth),o.zoomWindow.css("height",o.options.constrainSize),o.zoomWindow.css("width",o.constwidth)),o.options.tint&&(o.tintContainer.css("height",o.options.constrainSize),o.tintContainer.css("width",o.constwidth),o.zoomTint.css("height",o.options.constrainSize),o.zoomTint.css("width",o.constwidth),o.zoomTintImage.css("height",o.options.constrainSize),o.zoomTintImage.css("width",o.constwidth))),"width"==o.options.constrainType&&(o.zoomContainer.css("height","auto"),o.zoomContainer.css("width",o.options.constrainSize),o.options.imageCrossfade?(o.zoomWrap.css("height","auto"),o.zoomWrap.css("width",o.options.constrainSize),o.constheight=o.zoomWrap.height()):(o.$elem.css("height","auto"),o.$elem.css("width",o.options.constrainSize),o.constheight=o.$elem.height()),"inner"==o.options.zoomType&&(o.zoomWrap.parent().css("height",o.constheight),o.zoomWrap.parent().css("width",o.options.constrainSize),o.zoomWindow.css("height",o.constheight),o.zoomWindow.css("width",o.options.constrainSize)),o.options.tint&&(o.tintContainer.css("height",o.constheight),o.tintContainer.css("width",o.options.constrainSize),o.zoomTint.css("height",o.constheight),o.zoomTint.css("width",o.options.constrainSize),o.zoomTintImage.css("height",o.constheight),o.zoomTintImage.css("width",o.options.constrainSize))))},doneCallback:function(){this.options.loadingIcon&&this.spinner.hide(),this.nzOffset=this.$elem.offset(),this.nzWidth=this.$elem.width(),this.nzHeight=this.$elem.height(),this.currentZoomLevel=this.options.zoomLevel,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"window"==this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var t=this;return t.gallerylist=[],t.options.gallery?e("#"+t.options.gallery+" a").each(function(){var i="";e(this).data("zoom-image")?i=e(this).data("zoom-image"):e(this).data("image")&&(i=e(this).data("image")),i==t.zoomImage?t.gallerylist.unshift({href:""+i,title:e(this).find("img").attr("title")}):t.gallerylist.push({href:""+i,title:e(this).find("img").attr("title")})}):t.gallerylist.push({href:""+t.zoomImage,title:e(this).find("img").attr("title")}),t.gallerylist},changeZoomLevel:function(e){this.scrollingLock=!0,this.newvalue=parseFloat(e).toFixed(2),newvalue=parseFloat(e).toFixed(2),maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight),maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth),"inner"!=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1))),"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue>maxwidthtnewvalue?maxwidthtnewvalue:newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)),scrcontinue=!1,"inner"==this.options.zoomType&&(this.nzWidth>this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0))),"inner"!=this.options.zoomType&&(scrcontinue=!0),scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner"!=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth))),this.setPosition(this.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(e){"enable"==e&&(this.options.zoomEnabled=!0),"disable"==e&&(this.options.zoomEnabled=!1)}};e.fn.elevateZoom=function(t){return this.each(function(){var i=Object.create(n);i.init(t,this),e.data(this,"elevateZoom",i)})},e.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,
zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:e.noop,onZoomedImageLoaded:function(){},onImageSwap:e.noop,onImageSwapComplete:e.noop}}(jQuery,window,document);;